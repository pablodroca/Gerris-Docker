/*
 * DO NOT EDIT THIS FILE - it is generated by Glade.
 */

#ifdef HAVE_CONFIG_H
#  include <config.h>
#endif

#include <sys/types.h>
#include <sys/stat.h>
#include <unistd.h>
#include <string.h>
#include <stdio.h>

#include <gdk/gdkkeysyms.h>
#include <gtk/gtk.h>

#include "callbacks.h"
#include "interface.h"
#include "support.h"

#define GLADE_HOOKUP_OBJECT(component,widget,name) \
  g_object_set_data_full (G_OBJECT (component), name, \
    gtk_widget_ref (widget), (GDestroyNotify) gtk_widget_unref)

#define GLADE_HOOKUP_OBJECT_NO_REF(component,widget,name) \
  g_object_set_data (G_OBJECT (component), name, widget)

GtkWidget*
create_scalar_params (void)
{
  GtkWidget *scalar_params;
  GtkWidget *table1;
  GtkWidget *label1;
  GtkWidget *label2;
  GtkWidget *label3;
  GtkWidget *amin;
  GtkWidget *amax;
  GtkObject *spinbuttonmin_adj;
  GtkWidget *spinbuttonmin;
  GtkObject *spinbuttonmax_adj;
  GtkWidget *spinbuttonmax;
  GtkWidget *label4;
  GtkWidget *colormap;
  GtkWidget *convertwidget2;
  GtkWidget *hbox3;
  GtkWidget *entry1;
  GtkWidget *button3;
  GtkWidget *label116;
  GtkWidget *show;

  scalar_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (scalar_params), 4);
  gtk_window_set_title (GTK_WINDOW (scalar_params), "Scalar");

  table1 = gtk_table_new (5, 3, FALSE);
  gtk_widget_show (table1);
  gtk_container_add (GTK_CONTAINER (scalar_params), table1);
  gtk_table_set_row_spacings (GTK_TABLE (table1), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table1), 4);

  label1 = gtk_label_new ("Scalar");
  gtk_widget_show (label1);
  gtk_table_attach (GTK_TABLE (table1), label1, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);

  label2 = gtk_label_new ("Minimum");
  gtk_widget_show (label2);
  gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);

  label3 = gtk_label_new ("Maximum");
  gtk_widget_show (label3);
  gtk_table_attach (GTK_TABLE (table1), label3, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);

  amin = gtk_check_button_new_with_mnemonic ("Auto");
  gtk_widget_show (amin);
  gtk_table_attach (GTK_TABLE (table1), amin, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (amin), TRUE);

  amax = gtk_check_button_new_with_mnemonic ("Auto");
  gtk_widget_show (amax);
  gtk_table_attach (GTK_TABLE (table1), amax, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (amax), TRUE);

  spinbuttonmin_adj = gtk_adjustment_new (0, -1.00000001505e+30, 1.00000001505e+30, 1, 10, 0);
  spinbuttonmin = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonmin_adj), 1, 5);
  gtk_widget_show (spinbuttonmin);
  gtk_table_attach (GTK_TABLE (table1), spinbuttonmin, 2, 3, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (spinbuttonmin, FALSE);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonmin), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (spinbuttonmin), GTK_UPDATE_IF_VALID);

  spinbuttonmax_adj = gtk_adjustment_new (0, -1.00000001505e+30, 1.00000001505e+30, 1, 10, 0);
  spinbuttonmax = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonmax_adj), 1, 5);
  gtk_widget_show (spinbuttonmax);
  gtk_table_attach (GTK_TABLE (table1), spinbuttonmax, 2, 3, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (spinbuttonmax, FALSE);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonmax), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (spinbuttonmax), GTK_UPDATE_IF_VALID);

  label4 = gtk_label_new ("Colormap");
  gtk_widget_show (label4);
  gtk_table_attach (GTK_TABLE (table1), label4, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label4), GTK_JUSTIFY_CENTER);
  gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);

  colormap = gtk_option_menu_new ();
  gtk_widget_show (colormap);
  gtk_table_attach (GTK_TABLE (table1), colormap, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  convertwidget2 = gtk_menu_new ();

  gtk_option_menu_set_menu (GTK_OPTION_MENU (colormap), convertwidget2);

  hbox3 = gtk_hbox_new (FALSE, 0);
  gtk_widget_show (hbox3);
  gtk_table_attach (GTK_TABLE (table1), hbox3, 2, 3, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  entry1 = gtk_entry_new ();
  gtk_widget_show (entry1);
  gtk_box_pack_start (GTK_BOX (hbox3), entry1, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (entry1, FALSE);

  button3 = gtk_button_new_with_mnemonic ("Browse");
  gtk_widget_show (button3);
  gtk_box_pack_start (GTK_BOX (hbox3), button3, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button3, FALSE);

  label116 = gtk_label_new ("Colorscale");
  gtk_widget_show (label116);
  gtk_table_attach (GTK_TABLE (table1), label116, 0, 1, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label116), 0, 0.5);

  show = gtk_check_button_new_with_mnemonic ("show");
  gtk_widget_show (show);
  gtk_table_attach (GTK_TABLE (table1), show, 1, 2, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  g_signal_connect ((gpointer) amin, "toggled",
                    G_CALLBACK (on_amin_toggled),
                    NULL);
  g_signal_connect ((gpointer) amin, "toggled",
                    G_CALLBACK (expose_gl),
                    NULL);
  g_signal_connect ((gpointer) amax, "toggled",
                    G_CALLBACK (on_amax_toggled),
                    NULL);
  g_signal_connect ((gpointer) amax, "toggled",
                    G_CALLBACK (expose_gl),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmin, "value_changed",
                    G_CALLBACK (on_spinbuttonmin_changed),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmin, "changed",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmin, "value_changed",
                    G_CALLBACK (unmark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmin, "move_cursor",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmax, "value_changed",
                    G_CALLBACK (on_spinbuttonmax_changed),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmax, "changed",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmax, "value_changed",
                    G_CALLBACK (unmark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmax, "move_cursor",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) show, "toggled",
                    G_CALLBACK (on_showscale_toggled),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (scalar_params, scalar_params, "scalar_params");
  GLADE_HOOKUP_OBJECT (scalar_params, table1, "table1");
  GLADE_HOOKUP_OBJECT (scalar_params, label1, "label1");
  GLADE_HOOKUP_OBJECT (scalar_params, label2, "label2");
  GLADE_HOOKUP_OBJECT (scalar_params, label3, "label3");
  GLADE_HOOKUP_OBJECT (scalar_params, amin, "amin");
  GLADE_HOOKUP_OBJECT (scalar_params, amax, "amax");
  GLADE_HOOKUP_OBJECT (scalar_params, spinbuttonmin, "spinbuttonmin");
  GLADE_HOOKUP_OBJECT (scalar_params, spinbuttonmax, "spinbuttonmax");
  GLADE_HOOKUP_OBJECT (scalar_params, label4, "label4");
  GLADE_HOOKUP_OBJECT (scalar_params, colormap, "colormap");
  GLADE_HOOKUP_OBJECT (scalar_params, convertwidget2, "convertwidget2");
  GLADE_HOOKUP_OBJECT (scalar_params, hbox3, "hbox3");
  GLADE_HOOKUP_OBJECT (scalar_params, entry1, "entry1");
  GLADE_HOOKUP_OBJECT (scalar_params, button3, "button3");
  GLADE_HOOKUP_OBJECT (scalar_params, label116, "label116");
  GLADE_HOOKUP_OBJECT (scalar_params, show, "show");

  return scalar_params;
}

GtkWidget*
create_view (void)
{
  GtkWidget *view;
  GtkWidget *vbox1;
  GtkWidget *menubar1;
  GtkWidget *file1;
  GtkWidget *file1_menu;
  GtkWidget *open1;
  GtkWidget *save1;
  GtkWidget *separator5;
  GtkWidget *exit1;
  GtkWidget *edit1;
  GtkWidget *edit1_menu;
  GtkWidget *properties1;
  GtkWidget *separator1;
  GtkWidget *delete3;
  GtkWidget *image2;
  GtkWidget *clear1;
  GtkWidget *objects1;
  GtkWidget *objects1_menu;
  GtkWidget *vector1;
  GtkWidget *scalar1;
  GtkWidget *mesh1;
  GtkWidget *special1;
  GtkWidget *view1;
  GtkWidget *view1_menu;
  GtkWidget *front1;
  GtkWidget *back1;
  GtkWidget *top1;
  GtkWidget *bottom1;
  GtkWidget *left1;
  GtkWidget *right1;
  GtkWidget *separator3;
  GtkWidget *preferences1;
  GtkWidget *tools1;
  GtkWidget *tools1_menu;
  GtkWidget *substract1;
  GtkWidget *help1;
  GtkWidget *help1_menu;
  GtkWidget *about1;
  GtkWidget *toolbar;
  GtkIconSize tmp_toolbar_icon_size;
  GtkWidget *hpaned1;
  GtkWidget *scrolledwindow2;
  GtkWidget *gl_list;
  GtkWidget *vbox2;
  GtkWidget *frame1;
  GtkWidget *statusbar1;
  GtkAccelGroup *accel_group;

  accel_group = gtk_accel_group_new ();

  view = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (view), 4);
  gtk_window_set_title (GTK_WINDOW (view), "GfsView");
  gtk_window_set_default_size (GTK_WINDOW (view), 700, 490);

  vbox1 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox1);
  gtk_container_add (GTK_CONTAINER (view), vbox1);

  menubar1 = gtk_menu_bar_new ();
  gtk_widget_show (menubar1);
  gtk_box_pack_start (GTK_BOX (vbox1), menubar1, FALSE, FALSE, 0);

  file1 = gtk_menu_item_new_with_mnemonic ("File");
  gtk_widget_show (file1);
  gtk_container_add (GTK_CONTAINER (menubar1), file1);

  file1_menu = gtk_menu_new ();
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (file1), file1_menu);

  open1 = gtk_image_menu_item_new_from_stock ("gtk-open", accel_group);
  gtk_widget_show (open1);
  gtk_container_add (GTK_CONTAINER (file1_menu), open1);

  save1 = gtk_image_menu_item_new_from_stock ("gtk-save", accel_group);
  gtk_widget_show (save1);
  gtk_container_add (GTK_CONTAINER (file1_menu), save1);

  separator5 = gtk_separator_menu_item_new ();
  gtk_widget_show (separator5);
  gtk_container_add (GTK_CONTAINER (file1_menu), separator5);
  gtk_widget_set_sensitive (separator5, FALSE);

  exit1 = gtk_image_menu_item_new_from_stock ("gtk-quit", accel_group);
  gtk_widget_show (exit1);
  gtk_container_add (GTK_CONTAINER (file1_menu), exit1);

  edit1 = gtk_menu_item_new_with_mnemonic ("Edit");
  gtk_widget_show (edit1);
  gtk_container_add (GTK_CONTAINER (menubar1), edit1);

  edit1_menu = gtk_menu_new ();
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (edit1), edit1_menu);

  properties1 = gtk_image_menu_item_new_from_stock ("gtk-properties", accel_group);
  gtk_widget_show (properties1);
  gtk_container_add (GTK_CONTAINER (edit1_menu), properties1);

  separator1 = gtk_separator_menu_item_new ();
  gtk_widget_show (separator1);
  gtk_container_add (GTK_CONTAINER (edit1_menu), separator1);
  gtk_widget_set_sensitive (separator1, FALSE);

  delete3 = gtk_image_menu_item_new_with_mnemonic ("Delete");
  gtk_widget_show (delete3);
  gtk_container_add (GTK_CONTAINER (edit1_menu), delete3);
  gtk_widget_add_accelerator (delete3, "activate", accel_group,
                              GDK_Delete, (GdkModifierType) 0,
                              GTK_ACCEL_VISIBLE);

  image2 = gtk_image_new_from_stock ("gtk-delete", GTK_ICON_SIZE_MENU);
  gtk_widget_show (image2);
  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (delete3), image2);

  clear1 = gtk_image_menu_item_new_from_stock ("gtk-clear", accel_group);
  gtk_widget_show (clear1);
  gtk_container_add (GTK_CONTAINER (edit1_menu), clear1);

  objects1 = gtk_menu_item_new_with_mnemonic ("Objects");
  gtk_widget_show (objects1);
  gtk_container_add (GTK_CONTAINER (menubar1), objects1);

  objects1_menu = gtk_menu_new ();
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (objects1), objects1_menu);

  vector1 = gtk_menu_item_new_with_mnemonic ("Vector");
  gtk_widget_show (vector1);
  gtk_container_add (GTK_CONTAINER (objects1_menu), vector1);

  scalar1 = gtk_menu_item_new_with_mnemonic ("Scalar");
  gtk_widget_show (scalar1);
  gtk_container_add (GTK_CONTAINER (objects1_menu), scalar1);

  mesh1 = gtk_menu_item_new_with_mnemonic ("Mesh");
  gtk_widget_show (mesh1);
  gtk_container_add (GTK_CONTAINER (objects1_menu), mesh1);

  special1 = gtk_menu_item_new_with_mnemonic ("Special");
  gtk_widget_show (special1);
  gtk_container_add (GTK_CONTAINER (objects1_menu), special1);

  view1 = gtk_menu_item_new_with_mnemonic ("View");
  gtk_widget_show (view1);
  gtk_container_add (GTK_CONTAINER (menubar1), view1);

  view1_menu = gtk_menu_new ();
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (view1), view1_menu);

  front1 = gtk_menu_item_new_with_mnemonic ("Front");
  gtk_widget_show (front1);
  gtk_container_add (GTK_CONTAINER (view1_menu), front1);
  gtk_widget_add_accelerator (front1, "activate", accel_group,
                              GDK_F, (GdkModifierType) GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  back1 = gtk_menu_item_new_with_mnemonic ("Back");
  gtk_widget_show (back1);
  gtk_container_add (GTK_CONTAINER (view1_menu), back1);
  gtk_widget_add_accelerator (back1, "activate", accel_group,
                              GDK_B, (GdkModifierType) GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  top1 = gtk_menu_item_new_with_mnemonic ("Top");
  gtk_widget_show (top1);
  gtk_container_add (GTK_CONTAINER (view1_menu), top1);
  gtk_widget_add_accelerator (top1, "activate", accel_group,
                              GDK_T, (GdkModifierType) GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  bottom1 = gtk_menu_item_new_with_mnemonic ("Bottom");
  gtk_widget_show (bottom1);
  gtk_container_add (GTK_CONTAINER (view1_menu), bottom1);
  gtk_widget_add_accelerator (bottom1, "activate", accel_group,
                              GDK_M, (GdkModifierType) GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  left1 = gtk_menu_item_new_with_mnemonic ("Left");
  gtk_widget_show (left1);
  gtk_container_add (GTK_CONTAINER (view1_menu), left1);
  gtk_widget_add_accelerator (left1, "activate", accel_group,
                              GDK_L, (GdkModifierType) GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  right1 = gtk_menu_item_new_with_mnemonic ("Right");
  gtk_widget_show (right1);
  gtk_container_add (GTK_CONTAINER (view1_menu), right1);
  gtk_widget_add_accelerator (right1, "activate", accel_group,
                              GDK_R, (GdkModifierType) GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  separator3 = gtk_separator_menu_item_new ();
  gtk_widget_show (separator3);
  gtk_container_add (GTK_CONTAINER (view1_menu), separator3);
  gtk_widget_set_sensitive (separator3, FALSE);

  preferences1 = gtk_image_menu_item_new_from_stock ("gtk-preferences", accel_group);
  gtk_widget_show (preferences1);
  gtk_container_add (GTK_CONTAINER (view1_menu), preferences1);

  tools1 = gtk_menu_item_new_with_mnemonic ("Tools");
  gtk_widget_show (tools1);
  gtk_container_add (GTK_CONTAINER (menubar1), tools1);

  tools1_menu = gtk_menu_new ();
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (tools1), tools1_menu);

  substract1 = gtk_menu_item_new_with_mnemonic ("Substract...");
  gtk_widget_show (substract1);
  gtk_container_add (GTK_CONTAINER (tools1_menu), substract1);

  help1 = gtk_menu_item_new_with_mnemonic ("Help");
  gtk_widget_show (help1);
  gtk_container_add (GTK_CONTAINER (menubar1), help1);

  help1_menu = gtk_menu_new ();
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (help1), help1_menu);

  about1 = gtk_menu_item_new_with_mnemonic ("About...");
  gtk_widget_show (about1);
  gtk_container_add (GTK_CONTAINER (help1_menu), about1);

  toolbar = gtk_toolbar_new ();
  gtk_widget_show (toolbar);
  gtk_box_pack_start (GTK_BOX (vbox1), toolbar, FALSE, FALSE, 0);
  gtk_toolbar_set_style (GTK_TOOLBAR (toolbar), GTK_TOOLBAR_BOTH);
  tmp_toolbar_icon_size = gtk_toolbar_get_icon_size (GTK_TOOLBAR (toolbar));

  hpaned1 = gtk_hpaned_new ();
  gtk_widget_show (hpaned1);
  gtk_box_pack_start (GTK_BOX (vbox1), hpaned1, TRUE, TRUE, 0);

  scrolledwindow2 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_show (scrolledwindow2);
  gtk_paned_pack1 (GTK_PANED (hpaned1), scrolledwindow2, FALSE, TRUE);
  gtk_widget_set_size_request (scrolledwindow2, 120, -1);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow2), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  gl_list = gtk_tree_view_new ();
  gtk_widget_show (gl_list);
  gtk_container_add (GTK_CONTAINER (scrolledwindow2), gl_list);
  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW (gl_list), FALSE);

  vbox2 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox2);
  gtk_paned_pack2 (GTK_PANED (hpaned1), vbox2, TRUE, TRUE);

  frame1 = gtk_frame_new (NULL);
  gtk_widget_show (frame1);
  gtk_box_pack_start (GTK_BOX (vbox2), frame1, TRUE, TRUE, 0);
  gtk_frame_set_shadow_type (GTK_FRAME (frame1), GTK_SHADOW_IN);

  statusbar1 = gtk_statusbar_new ();
  gtk_widget_show (statusbar1);
  gtk_box_pack_start (GTK_BOX (vbox2), statusbar1, FALSE, FALSE, 0);
  gtk_statusbar_set_has_resize_grip (GTK_STATUSBAR (statusbar1), FALSE);

  g_signal_connect ((gpointer) view, "delete_event",
                    G_CALLBACK (main_quit),
                    NULL);
  g_signal_connect ((gpointer) open1, "activate",
                    G_CALLBACK (on_open1_activate),
                    NULL);
  g_signal_connect ((gpointer) save1, "activate",
                    G_CALLBACK (on_save1_activate),
                    NULL);
  g_signal_connect ((gpointer) exit1, "activate",
                    G_CALLBACK (main_quit),
                    NULL);
  g_signal_connect ((gpointer) properties1, "activate",
                    G_CALLBACK (on_properties1_activate),
                    NULL);
  g_signal_connect ((gpointer) delete3, "activate",
                    G_CALLBACK (on_delete_activate),
                    NULL);
  g_signal_connect ((gpointer) clear1, "activate",
                    G_CALLBACK (on_clear1_activate),
                    NULL);
  g_signal_connect ((gpointer) front1, "activate",
                    G_CALLBACK (on_front1_activate),
                    NULL);
  g_signal_connect ((gpointer) back1, "activate",
                    G_CALLBACK (on_back1_activate),
                    NULL);
  g_signal_connect ((gpointer) top1, "activate",
                    G_CALLBACK (on_top1_activate),
                    NULL);
  g_signal_connect ((gpointer) bottom1, "activate",
                    G_CALLBACK (on_bottom1_activate),
                    NULL);
  g_signal_connect ((gpointer) left1, "activate",
                    G_CALLBACK (on_left1_activate),
                    NULL);
  g_signal_connect ((gpointer) right1, "activate",
                    G_CALLBACK (on_right1_activate),
                    NULL);
  g_signal_connect ((gpointer) preferences1, "activate",
                    G_CALLBACK (on_preferences1_activate),
                    NULL);
  g_signal_connect ((gpointer) substract1, "activate",
                    G_CALLBACK (on_substract1_activate),
                    NULL);
  g_signal_connect ((gpointer) about1, "activate",
                    G_CALLBACK (on_about1_activate),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (view, view, "view");
  GLADE_HOOKUP_OBJECT (view, vbox1, "vbox1");
  GLADE_HOOKUP_OBJECT (view, menubar1, "menubar1");
  GLADE_HOOKUP_OBJECT (view, file1, "file1");
  GLADE_HOOKUP_OBJECT (view, file1_menu, "file1_menu");
  GLADE_HOOKUP_OBJECT (view, open1, "open1");
  GLADE_HOOKUP_OBJECT (view, save1, "save1");
  GLADE_HOOKUP_OBJECT (view, separator5, "separator5");
  GLADE_HOOKUP_OBJECT (view, exit1, "exit1");
  GLADE_HOOKUP_OBJECT (view, edit1, "edit1");
  GLADE_HOOKUP_OBJECT (view, edit1_menu, "edit1_menu");
  GLADE_HOOKUP_OBJECT (view, properties1, "properties1");
  GLADE_HOOKUP_OBJECT (view, separator1, "separator1");
  GLADE_HOOKUP_OBJECT (view, delete3, "delete3");
  GLADE_HOOKUP_OBJECT (view, image2, "image2");
  GLADE_HOOKUP_OBJECT (view, clear1, "clear1");
  GLADE_HOOKUP_OBJECT (view, objects1, "objects1");
  GLADE_HOOKUP_OBJECT (view, objects1_menu, "objects1_menu");
  GLADE_HOOKUP_OBJECT (view, vector1, "vector1");
  GLADE_HOOKUP_OBJECT (view, scalar1, "scalar1");
  GLADE_HOOKUP_OBJECT (view, mesh1, "mesh1");
  GLADE_HOOKUP_OBJECT (view, special1, "special1");
  GLADE_HOOKUP_OBJECT (view, view1, "view1");
  GLADE_HOOKUP_OBJECT (view, view1_menu, "view1_menu");
  GLADE_HOOKUP_OBJECT (view, front1, "front1");
  GLADE_HOOKUP_OBJECT (view, back1, "back1");
  GLADE_HOOKUP_OBJECT (view, top1, "top1");
  GLADE_HOOKUP_OBJECT (view, bottom1, "bottom1");
  GLADE_HOOKUP_OBJECT (view, left1, "left1");
  GLADE_HOOKUP_OBJECT (view, right1, "right1");
  GLADE_HOOKUP_OBJECT (view, separator3, "separator3");
  GLADE_HOOKUP_OBJECT (view, preferences1, "preferences1");
  GLADE_HOOKUP_OBJECT (view, tools1, "tools1");
  GLADE_HOOKUP_OBJECT (view, tools1_menu, "tools1_menu");
  GLADE_HOOKUP_OBJECT (view, substract1, "substract1");
  GLADE_HOOKUP_OBJECT (view, help1, "help1");
  GLADE_HOOKUP_OBJECT (view, help1_menu, "help1_menu");
  GLADE_HOOKUP_OBJECT (view, about1, "about1");
  GLADE_HOOKUP_OBJECT (view, toolbar, "toolbar");
  GLADE_HOOKUP_OBJECT (view, hpaned1, "hpaned1");
  GLADE_HOOKUP_OBJECT (view, scrolledwindow2, "scrolledwindow2");
  GLADE_HOOKUP_OBJECT (view, gl_list, "gl_list");
  GLADE_HOOKUP_OBJECT (view, vbox2, "vbox2");
  GLADE_HOOKUP_OBJECT (view, frame1, "frame1");
  GLADE_HOOKUP_OBJECT (view, statusbar1, "statusbar1");

  gtk_window_add_accel_group (GTK_WINDOW (view), accel_group);

  return view;
}

GtkWidget*
create_vector_params (void)
{
  GtkWidget *vector_params;
  GtkWidget *table2;
  GtkObject *scale_adj;
  GtkWidget *scale;
  GtkWidget *label11;
  GtkWidget *label12;
  GtkWidget *color;
  GtkWidget *convertwidget6;

  vector_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (vector_params), 4);
  gtk_window_set_title (GTK_WINDOW (vector_params), "Vector");

  table2 = gtk_table_new (5, 2, FALSE);
  gtk_widget_show (table2);
  gtk_container_add (GTK_CONTAINER (vector_params), table2);
  gtk_table_set_row_spacings (GTK_TABLE (table2), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table2), 4);

  scale_adj = gtk_adjustment_new (1, 0, 10000, 0.10000000149, 1, 0);
  scale = gtk_spin_button_new (GTK_ADJUSTMENT (scale_adj), 0.10000000149, 1);
  gtk_widget_show (scale);
  gtk_table_attach (GTK_TABLE (table2), scale, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (scale), TRUE);

  label11 = gtk_label_new ("Scale");
  gtk_widget_show (label11);
  gtk_table_attach (GTK_TABLE (table2), label11, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label11), GTK_JUSTIFY_CENTER);
  gtk_misc_set_alignment (GTK_MISC (label11), 0, 0.5);

  label12 = gtk_label_new ("Color");
  gtk_widget_show (label12);
  gtk_table_attach (GTK_TABLE (table2), label12, 0, 1, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label12), GTK_JUSTIFY_CENTER);
  gtk_misc_set_alignment (GTK_MISC (label12), 0, 0.5);

  color = gtk_option_menu_new ();
  gtk_widget_show (color);
  gtk_table_attach (GTK_TABLE (table2), color, 1, 2, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  convertwidget6 = gtk_menu_new ();

  gtk_option_menu_set_menu (GTK_OPTION_MENU (color), convertwidget6);

  g_signal_connect ((gpointer) scale, "value_changed",
                    G_CALLBACK (on_scale_changed),
                    NULL);
  g_signal_connect ((gpointer) scale, "changed",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) scale, "move_cursor",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) scale, "value_changed",
                    G_CALLBACK (unmark_edited),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (vector_params, vector_params, "vector_params");
  GLADE_HOOKUP_OBJECT (vector_params, table2, "table2");
  GLADE_HOOKUP_OBJECT (vector_params, scale, "scale");
  GLADE_HOOKUP_OBJECT (vector_params, label11, "label11");
  GLADE_HOOKUP_OBJECT (vector_params, label12, "label12");
  GLADE_HOOKUP_OBJECT (vector_params, color, "color");
  GLADE_HOOKUP_OBJECT (vector_params, convertwidget6, "convertwidget6");

  return vector_params;
}

GtkWidget*
create_gl_params (void)
{
  GtkWidget *gl_params;
  GtkWidget *table;
  GtkWidget *default_color_label;
  GtkWidget *default_color;
  GtkWidget *maxlevel_label;
  GtkObject *maxlevel_adj;
  GtkWidget *maxlevel;
  GtkWidget *finest;
  GtkWidget *shading_label;
  GtkWidget *shading;
  GtkWidget *menu1;
  GtkWidget *constant1;
  GtkWidget *flat1;
  GtkWidget *smooth1;
  GtkWidget *csmooth1;
  GtkWidget *label117;
  GtkObject *linewidth_adj;
  GtkWidget *linewidth;

  gl_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (gl_params), 4);
  gtk_window_set_title (GTK_WINDOW (gl_params), "window1");

  table = gtk_table_new (4, 3, FALSE);
  gtk_widget_show (table);
  gtk_container_add (GTK_CONTAINER (gl_params), table);
  gtk_table_set_row_spacings (GTK_TABLE (table), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table), 4);

  default_color_label = gtk_label_new ("Default color");
  gtk_widget_show (default_color_label);
  gtk_table_attach (GTK_TABLE (table), default_color_label, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (default_color_label), 0, 0.5);

  default_color = gtk_button_new ();
  gtk_widget_show (default_color);
  gtk_table_attach (GTK_TABLE (table), default_color, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_size_request (default_color, -1, 26);

  maxlevel_label = gtk_label_new ("Maximum level");
  gtk_widget_show (maxlevel_label);
  gtk_table_attach (GTK_TABLE (table), maxlevel_label, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (maxlevel_label), 0, 0.5);

  maxlevel_adj = gtk_adjustment_new (100, 0, 100, 1, 10, 0);
  maxlevel = gtk_spin_button_new (GTK_ADJUSTMENT (maxlevel_adj), 1, 0);
  gtk_widget_show (maxlevel);
  gtk_table_attach (GTK_TABLE (table), maxlevel, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (maxlevel, FALSE);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (maxlevel), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (maxlevel), GTK_UPDATE_IF_VALID);

  finest = gtk_check_button_new_with_mnemonic ("Finest");
  gtk_widget_show (finest);
  gtk_table_attach (GTK_TABLE (table), finest, 2, 3, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (finest), TRUE);

  shading_label = gtk_label_new ("Shading");
  gtk_widget_show (shading_label);
  gtk_table_attach (GTK_TABLE (table), shading_label, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (shading_label), 0, 0.5);

  shading = gtk_option_menu_new ();
  gtk_widget_show (shading);
  gtk_table_attach (GTK_TABLE (table), shading, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  menu1 = gtk_menu_new ();

  constant1 = gtk_menu_item_new_with_mnemonic ("Constant");
  gtk_widget_show (constant1);
  gtk_container_add (GTK_CONTAINER (menu1), constant1);

  flat1 = gtk_menu_item_new_with_mnemonic ("Flat");
  gtk_widget_show (flat1);
  gtk_container_add (GTK_CONTAINER (menu1), flat1);

  smooth1 = gtk_menu_item_new_with_mnemonic ("Smooth");
  gtk_widget_show (smooth1);
  gtk_container_add (GTK_CONTAINER (menu1), smooth1);

  csmooth1 = gtk_menu_item_new_with_mnemonic ("CSmooth");
  gtk_widget_show (csmooth1);
  gtk_container_add (GTK_CONTAINER (menu1), csmooth1);

  gtk_option_menu_set_menu (GTK_OPTION_MENU (shading), menu1);

  label117 = gtk_label_new ("Line width");
  gtk_widget_show (label117);
  gtk_table_attach (GTK_TABLE (table), label117, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label117), 0, 0.5);

  linewidth_adj = gtk_adjustment_new (1, 1, 10, 1, 10, 0);
  linewidth = gtk_spin_button_new (GTK_ADJUSTMENT (linewidth_adj), 1, 0);
  gtk_widget_show (linewidth);
  gtk_table_attach (GTK_TABLE (table), linewidth, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (linewidth), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (linewidth), GTK_UPDATE_IF_VALID);

  g_signal_connect ((gpointer) default_color, "clicked",
                    G_CALLBACK (on_color_clicked),
                    NULL);
  g_signal_connect ((gpointer) maxlevel, "value_changed",
                    G_CALLBACK (on_maxlevel_changed),
                    NULL);
  g_signal_connect ((gpointer) finest, "toggled",
                    G_CALLBACK (on_finest_toggled),
                    NULL);
  g_signal_connect ((gpointer) constant1, "activate",
                    G_CALLBACK (on_constant1_activate),
                    NULL);
  g_signal_connect ((gpointer) flat1, "activate",
                    G_CALLBACK (on_flat1_activate),
                    NULL);
  g_signal_connect ((gpointer) smooth1, "activate",
                    G_CALLBACK (on_smooth1_activate),
                    NULL);
  g_signal_connect ((gpointer) csmooth1, "activate",
                    G_CALLBACK (on_csmooth1_activate),
                    NULL);
  g_signal_connect ((gpointer) linewidth, "value_changed",
                    G_CALLBACK (on_linewidth_value_changed),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (gl_params, gl_params, "gl_params");
  GLADE_HOOKUP_OBJECT (gl_params, table, "table");
  GLADE_HOOKUP_OBJECT (gl_params, default_color_label, "default_color_label");
  GLADE_HOOKUP_OBJECT (gl_params, default_color, "default_color");
  GLADE_HOOKUP_OBJECT (gl_params, maxlevel_label, "maxlevel_label");
  GLADE_HOOKUP_OBJECT (gl_params, maxlevel, "maxlevel");
  GLADE_HOOKUP_OBJECT (gl_params, finest, "finest");
  GLADE_HOOKUP_OBJECT (gl_params, shading_label, "shading_label");
  GLADE_HOOKUP_OBJECT (gl_params, shading, "shading");
  GLADE_HOOKUP_OBJECT (gl_params, menu1, "menu1");
  GLADE_HOOKUP_OBJECT (gl_params, constant1, "constant1");
  GLADE_HOOKUP_OBJECT (gl_params, flat1, "flat1");
  GLADE_HOOKUP_OBJECT (gl_params, smooth1, "smooth1");
  GLADE_HOOKUP_OBJECT (gl_params, csmooth1, "csmooth1");
  GLADE_HOOKUP_OBJECT (gl_params, label117, "label117");
  GLADE_HOOKUP_OBJECT (gl_params, linewidth, "linewidth");

  return gl_params;
}

GtkWidget*
create_color_selector (void)
{
  GtkWidget *color_selector;
  GtkWidget *vbox4;
  GtkWidget *colorselection1;
  GtkWidget *hseparator1;
  GtkWidget *hbuttonbox1;
  GtkWidget *button6;
  GtkWidget *button7;

  color_selector = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_window_set_title (GTK_WINDOW (color_selector), "Color selector");

  vbox4 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox4);
  gtk_container_add (GTK_CONTAINER (color_selector), vbox4);

  colorselection1 = gtk_color_selection_new ();
  gtk_widget_show (colorselection1);
  gtk_box_pack_start (GTK_BOX (vbox4), colorselection1, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (colorselection1), 4);
  gtk_color_selection_set_has_opacity_control (GTK_COLOR_SELECTION (colorselection1), TRUE);

  hseparator1 = gtk_hseparator_new ();
  gtk_widget_show (hseparator1);
  gtk_box_pack_start (GTK_BOX (vbox4), hseparator1, TRUE, TRUE, 0);

  hbuttonbox1 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox1);
  gtk_box_pack_start (GTK_BOX (vbox4), hbuttonbox1, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (hbuttonbox1), 4);
  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox1), GTK_BUTTONBOX_SPREAD);

  button6 = gtk_button_new_from_stock ("gtk-ok");
  gtk_widget_show (button6);
  gtk_container_add (GTK_CONTAINER (hbuttonbox1), button6);
  GTK_WIDGET_SET_FLAGS (button6, GTK_CAN_DEFAULT);

  button7 = gtk_button_new_from_stock ("gtk-cancel");
  gtk_widget_show (button7);
  gtk_container_add (GTK_CONTAINER (hbuttonbox1), button7);
  GTK_WIDGET_SET_FLAGS (button7, GTK_CAN_DEFAULT);

  g_signal_connect ((gpointer) button6, "clicked",
                    G_CALLBACK (on_color_selector_clicked),
                    NULL);
  g_signal_connect_swapped ((gpointer) button7, "clicked",
                            G_CALLBACK (gtk_widget_hide),
                            GTK_OBJECT (color_selector));

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (color_selector, color_selector, "color_selector");
  GLADE_HOOKUP_OBJECT (color_selector, vbox4, "vbox4");
  GLADE_HOOKUP_OBJECT (color_selector, colorselection1, "colorselection1");
  GLADE_HOOKUP_OBJECT (color_selector, hseparator1, "hseparator1");
  GLADE_HOOKUP_OBJECT (color_selector, hbuttonbox1, "hbuttonbox1");
  GLADE_HOOKUP_OBJECT (color_selector, button6, "button6");
  GLADE_HOOKUP_OBJECT (color_selector, button7, "button7");

  return color_selector;
}

GtkWidget*
create_preferences (void)
{
  GtkWidget *preferences;
  GtkWidget *notebook1;
  GtkWidget *table3;
  GtkWidget *label17;
  GtkWidget *bgcolor;
  GtkWidget *label98;
  GtkWidget *label99;
  GtkWidget *sz_label;
  GtkObject *sx_adj;
  GtkWidget *sx;
  GtkObject *sy_adj;
  GtkWidget *sy;
  GtkObject *sz_adj;
  GtkWidget *sz;
  GtkWidget *label16;
  GtkWidget *table20;
  GtkWidget *label33;
  GtkObject *reactivity_adj;
  GtkWidget *reactivity;
  GtkWidget *label26;
  GtkObject *lc_adj;
  GtkWidget *lc;
  GtkWidget *label18;
  GtkObject *resolution_adj;
  GtkWidget *resolution;
  GtkWidget *scripting_label;
  GtkWidget *scripting;
  GtkWidget *scripting_on;
  GSList *scripting_on_group = NULL;
  GtkWidget *scripting_off;
  GtkWidget *label53;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  preferences = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (preferences), 4);
  gtk_window_set_title (GTK_WINDOW (preferences), "Preferences");

  notebook1 = gtk_notebook_new ();
  gtk_widget_show (notebook1);
  gtk_container_add (GTK_CONTAINER (preferences), notebook1);

  table3 = gtk_table_new (4, 2, FALSE);
  gtk_widget_show (table3);
  gtk_container_add (GTK_CONTAINER (notebook1), table3);
  gtk_container_set_border_width (GTK_CONTAINER (table3), 4);
  gtk_table_set_row_spacings (GTK_TABLE (table3), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table3), 4);

  label17 = gtk_label_new ("Background color");
  gtk_widget_show (label17);
  gtk_table_attach (GTK_TABLE (table3), label17, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label17), 0, 0.5);

  bgcolor = gtk_button_new ();
  gtk_widget_show (bgcolor);
  gtk_table_attach (GTK_TABLE (table3), bgcolor, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_size_request (bgcolor, -1, 26);

  label98 = gtk_label_new ("X scaling");
  gtk_widget_show (label98);
  gtk_table_attach (GTK_TABLE (table3), label98, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label98), 0, 0.5);

  label99 = gtk_label_new ("Y scaling");
  gtk_widget_show (label99);
  gtk_table_attach (GTK_TABLE (table3), label99, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label99), 0, 0.5);

  sz_label = gtk_label_new ("Z scaling");
  gtk_widget_show (sz_label);
  gtk_table_attach (GTK_TABLE (table3), sz_label, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (sz_label), 0, 0.5);

  sx_adj = gtk_adjustment_new (1, 0.00999999977648, 100, 0.10000000149, 1, 0);
  sx = gtk_spin_button_new (GTK_ADJUSTMENT (sx_adj), 1, 2);
  gtk_widget_show (sx);
  gtk_table_attach (GTK_TABLE (table3), sx, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (sx), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (sx), GTK_UPDATE_IF_VALID);

  sy_adj = gtk_adjustment_new (1, 0.00999999977648, 100, 0.10000000149, 1, 0);
  sy = gtk_spin_button_new (GTK_ADJUSTMENT (sy_adj), 1, 2);
  gtk_widget_show (sy);
  gtk_table_attach (GTK_TABLE (table3), sy, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (sy), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (sy), GTK_UPDATE_IF_VALID);

  sz_adj = gtk_adjustment_new (1, 0.00999999977648, 100, 0.10000000149, 1, 0);
  sz = gtk_spin_button_new (GTK_ADJUSTMENT (sz_adj), 1, 2);
  gtk_widget_show (sz);
  gtk_table_attach (GTK_TABLE (table3), sz, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (sz), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (sz), GTK_UPDATE_IF_VALID);

  label16 = gtk_label_new ("Basic");
  gtk_widget_show (label16);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 0), label16);

  table20 = gtk_table_new (4, 2, FALSE);
  gtk_widget_show (table20);
  gtk_container_add (GTK_CONTAINER (notebook1), table20);
  gtk_container_set_border_width (GTK_CONTAINER (table20), 4);
  gtk_table_set_row_spacings (GTK_TABLE (table20), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table20), 4);

  label33 = gtk_label_new ("Reactivity");
  gtk_widget_show (label33);
  gtk_table_attach (GTK_TABLE (table20), label33, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label33), 0, 0.5);

  reactivity_adj = gtk_adjustment_new (0.10000000149, 0.00999999977648, 1, 0.00999999977648, 0.10000000149, 0);
  reactivity = gtk_spin_button_new (GTK_ADJUSTMENT (reactivity_adj), 1, 2);
  gtk_widget_show (reactivity);
  gtk_table_attach (GTK_TABLE (table20), reactivity, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, reactivity, "Maximum update time (sec)", NULL);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (reactivity), TRUE);

  label26 = gtk_label_new ("Lines closer");
  gtk_widget_show (label26);
  gtk_table_attach (GTK_TABLE (table20), label26, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label26), 0, 0.5);

  lc_adj = gtk_adjustment_new (0.001, 0, 0.1, 0.001, 0.01, 0);
  lc = gtk_spin_button_new (GTK_ADJUSTMENT (lc_adj), 0.00999999977648, 3);
  gtk_widget_show (lc);
  gtk_table_attach (GTK_TABLE (table20), lc, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (lc), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (lc), GTK_UPDATE_IF_VALID);

  label18 = gtk_label_new ("Resolution");
  gtk_widget_show (label18);
  gtk_table_attach (GTK_TABLE (table20), label18, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label18), 0, 0.5);

  resolution_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 0);
  resolution = gtk_spin_button_new (GTK_ADJUSTMENT (resolution_adj), 1, 0);
  gtk_widget_show (resolution);
  gtk_table_attach (GTK_TABLE (table20), resolution, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, resolution, "Resolution in pixels", NULL);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (resolution), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (resolution), GTK_UPDATE_IF_VALID);

  scripting_label = gtk_label_new ("Scripting");
  gtk_widget_show (scripting_label);
  gtk_table_attach (GTK_TABLE (table20), scripting_label, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (scripting_label), 0, 0.5);

  scripting = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (scripting);
  gtk_table_attach (GTK_TABLE (table20), scripting, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  scripting_on = gtk_radio_button_new_with_mnemonic (NULL, "on");
  gtk_widget_show (scripting_on);
  gtk_box_pack_start (GTK_BOX (scripting), scripting_on, FALSE, FALSE, 0);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (scripting_on), scripting_on_group);
  scripting_on_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (scripting_on));

  scripting_off = gtk_radio_button_new_with_mnemonic (NULL, "off");
  gtk_widget_show (scripting_off);
  gtk_box_pack_start (GTK_BOX (scripting), scripting_off, FALSE, FALSE, 0);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (scripting_off), scripting_on_group);
  scripting_on_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (scripting_off));

  label53 = gtk_label_new ("Advanced");
  gtk_widget_show (label53);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 1), label53);

  g_signal_connect ((gpointer) bgcolor, "clicked",
                    G_CALLBACK (on_bgcolor_clicked),
                    NULL);
  g_signal_connect ((gpointer) sx, "value_changed",
                    G_CALLBACK (on_x_scaling_changed),
                    NULL);
  g_signal_connect ((gpointer) sy, "value_changed",
                    G_CALLBACK (on_y_scaling_changed),
                    NULL);
  g_signal_connect ((gpointer) sz, "value_changed",
                    G_CALLBACK (on_z_scaling_changed),
                    NULL);
  g_signal_connect ((gpointer) reactivity, "value_changed",
                    G_CALLBACK (on_reactivity_changed),
                    NULL);
  g_signal_connect ((gpointer) lc, "value_changed",
                    G_CALLBACK (on_lines_closer_changed),
                    NULL);
  g_signal_connect ((gpointer) resolution, "value_changed",
                    G_CALLBACK (on_resolution_changed),
                    NULL);
  g_signal_connect ((gpointer) scripting_on, "toggled",
                    G_CALLBACK (on_scripting_toggled),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (preferences, preferences, "preferences");
  GLADE_HOOKUP_OBJECT (preferences, notebook1, "notebook1");
  GLADE_HOOKUP_OBJECT (preferences, table3, "table3");
  GLADE_HOOKUP_OBJECT (preferences, label17, "label17");
  GLADE_HOOKUP_OBJECT (preferences, bgcolor, "bgcolor");
  GLADE_HOOKUP_OBJECT (preferences, label98, "label98");
  GLADE_HOOKUP_OBJECT (preferences, label99, "label99");
  GLADE_HOOKUP_OBJECT (preferences, sz_label, "sz_label");
  GLADE_HOOKUP_OBJECT (preferences, sx, "sx");
  GLADE_HOOKUP_OBJECT (preferences, sy, "sy");
  GLADE_HOOKUP_OBJECT (preferences, sz, "sz");
  GLADE_HOOKUP_OBJECT (preferences, label16, "label16");
  GLADE_HOOKUP_OBJECT (preferences, table20, "table20");
  GLADE_HOOKUP_OBJECT (preferences, label33, "label33");
  GLADE_HOOKUP_OBJECT (preferences, reactivity, "reactivity");
  GLADE_HOOKUP_OBJECT (preferences, label26, "label26");
  GLADE_HOOKUP_OBJECT (preferences, lc, "lc");
  GLADE_HOOKUP_OBJECT (preferences, label18, "label18");
  GLADE_HOOKUP_OBJECT (preferences, resolution, "resolution");
  GLADE_HOOKUP_OBJECT (preferences, scripting_label, "scripting_label");
  GLADE_HOOKUP_OBJECT (preferences, scripting, "scripting");
  GLADE_HOOKUP_OBJECT (preferences, scripting_on, "scripting_on");
  GLADE_HOOKUP_OBJECT (preferences, scripting_off, "scripting_off");
  GLADE_HOOKUP_OBJECT (preferences, label53, "label53");
  GLADE_HOOKUP_OBJECT_NO_REF (preferences, tooltips, "tooltips");

  return preferences;
}

GtkWidget*
create_bg_color_selector (void)
{
  GtkWidget *bg_color_selector;
  GtkWidget *vbox5;
  GtkWidget *colorselection2;
  GtkWidget *hseparator2;
  GtkWidget *hbuttonbox2;
  GtkWidget *button9;
  GtkWidget *button10;

  bg_color_selector = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_window_set_title (GTK_WINDOW (bg_color_selector), "Color selector");

  vbox5 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox5);
  gtk_container_add (GTK_CONTAINER (bg_color_selector), vbox5);

  colorselection2 = gtk_color_selection_new ();
  gtk_widget_show (colorselection2);
  gtk_box_pack_start (GTK_BOX (vbox5), colorselection2, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (colorselection2), 4);
  gtk_color_selection_set_has_opacity_control (GTK_COLOR_SELECTION (colorselection2), TRUE);

  hseparator2 = gtk_hseparator_new ();
  gtk_widget_show (hseparator2);
  gtk_box_pack_start (GTK_BOX (vbox5), hseparator2, TRUE, TRUE, 0);

  hbuttonbox2 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox2);
  gtk_box_pack_start (GTK_BOX (vbox5), hbuttonbox2, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (hbuttonbox2), 4);
  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox2), GTK_BUTTONBOX_SPREAD);

  button9 = gtk_button_new_from_stock ("gtk-ok");
  gtk_widget_show (button9);
  gtk_container_add (GTK_CONTAINER (hbuttonbox2), button9);
  GTK_WIDGET_SET_FLAGS (button9, GTK_CAN_DEFAULT);

  button10 = gtk_button_new_from_stock ("gtk-cancel");
  gtk_widget_show (button10);
  gtk_container_add (GTK_CONTAINER (hbuttonbox2), button10);
  GTK_WIDGET_SET_FLAGS (button10, GTK_CAN_DEFAULT);

  g_signal_connect ((gpointer) button9, "clicked",
                    G_CALLBACK (on_bg_color_selector_clicked),
                    NULL);
  g_signal_connect_swapped ((gpointer) button10, "clicked",
                            G_CALLBACK (gtk_widget_hide),
                            GTK_OBJECT (bg_color_selector));

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (bg_color_selector, bg_color_selector, "bg_color_selector");
  GLADE_HOOKUP_OBJECT (bg_color_selector, vbox5, "vbox5");
  GLADE_HOOKUP_OBJECT (bg_color_selector, colorselection2, "colorselection2");
  GLADE_HOOKUP_OBJECT (bg_color_selector, hseparator2, "hseparator2");
  GLADE_HOOKUP_OBJECT (bg_color_selector, hbuttonbox2, "hbuttonbox2");
  GLADE_HOOKUP_OBJECT (bg_color_selector, button9, "button9");
  GLADE_HOOKUP_OBJECT (bg_color_selector, button10, "button10");

  return bg_color_selector;
}

GtkWidget*
create_gl2ps (void)
{
  GtkWidget *gl2ps;
  GtkWidget *vbox6;
  GtkWidget *notebook2;
  GtkWidget *table5;
  GtkWidget *label22;
  GtkWidget *entry2;
  GtkWidget *button14;
  GtkWidget *label23;
  GtkWidget *format;
  GtkWidget *menu2;
  GtkWidget *portable_pixmap1;
  GtkWidget *postscript1;
  GtkWidget *encapsulated_postscript1;
  GtkWidget *portable_document_format1;
  GtkWidget *scalable_vector_graphics;
  GtkWidget *gnuplot1;
  GtkWidget *wavefront_obj1;
  GtkWidget *kml_obj;
  GtkWidget *latex1;
  GtkWidget *gfsview;
  GtkWidget *gerris;
  GtkWidget *orientationlabel;
  GtkWidget *orientationmenu;
  GtkWidget *menu4;
  GtkWidget *portrait1;
  GtkWidget *landscape1;
  GtkWidget *label25;
  GtkObject *spinbutton1_adj;
  GtkWidget *spinbutton1;
  GtkWidget *label20;
  GtkWidget *vbox11;
  GtkWidget *ppm_options;
  GtkWidget *label74;
  GtkWidget *screen;
  GtkWidget *size;
  GtkWidget *label76;
  GtkObject *width_adj;
  GtkWidget *width;
  GtkWidget *label73;
  GtkObject *height_adj;
  GtkWidget *height;
  GtkWidget *keep_ratio;
  GtkWidget *gl2ps_options;
  GtkWidget *label24;
  GtkWidget *sort;
  GtkWidget *menu3;
  GtkWidget *none1;
  GtkWidget *barycenter1;
  GtkWidget *bsp_tree1;
  GtkWidget *checkbutton1;
  GtkWidget *checkbutton2;
  GtkWidget *checkbutton3;
  GtkWidget *checkbutton4;
  GtkWidget *checkbutton5;
  GtkWidget *label21;
  GtkWidget *hseparator3;
  GtkWidget *hbuttonbox3;
  GtkWidget *button12;
  GtkWidget *button13;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  gl2ps = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (gl2ps), 4);
  gtk_window_set_title (GTK_WINDOW (gl2ps), "Save as");

  vbox6 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox6);
  gtk_container_add (GTK_CONTAINER (gl2ps), vbox6);

  notebook2 = gtk_notebook_new ();
  gtk_widget_show (notebook2);
  gtk_box_pack_start (GTK_BOX (vbox6), notebook2, TRUE, TRUE, 0);

  table5 = gtk_table_new (4, 3, FALSE);
  gtk_widget_show (table5);
  gtk_container_add (GTK_CONTAINER (notebook2), table5);
  gtk_container_set_border_width (GTK_CONTAINER (table5), 4);
  gtk_table_set_row_spacings (GTK_TABLE (table5), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table5), 4);

  label22 = gtk_label_new ("Path");
  gtk_widget_show (label22);
  gtk_table_attach (GTK_TABLE (table5), label22, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label22), 0, 0.5);

  entry2 = gtk_entry_new ();
  gtk_widget_show (entry2);
  gtk_table_attach (GTK_TABLE (table5), entry2, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  button14 = gtk_button_new_with_mnemonic ("Browse...");
  gtk_widget_show (button14);
  gtk_table_attach (GTK_TABLE (table5), button14, 2, 3, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  label23 = gtk_label_new ("Format");
  gtk_widget_show (label23);
  gtk_table_attach (GTK_TABLE (table5), label23, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label23), 0, 0.5);

  format = gtk_option_menu_new ();
  gtk_widget_show (format);
  gtk_table_attach (GTK_TABLE (table5), format, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  menu2 = gtk_menu_new ();

  portable_pixmap1 = gtk_menu_item_new_with_mnemonic ("Portable PixMap (PPM)");
  gtk_widget_show (portable_pixmap1);
  gtk_container_add (GTK_CONTAINER (menu2), portable_pixmap1);

  postscript1 = gtk_menu_item_new_with_mnemonic ("Postscript (PS)");
  gtk_widget_show (postscript1);
  gtk_container_add (GTK_CONTAINER (menu2), postscript1);

  encapsulated_postscript1 = gtk_menu_item_new_with_mnemonic ("Encapsulated Postscript (EPS)");
  gtk_widget_show (encapsulated_postscript1);
  gtk_container_add (GTK_CONTAINER (menu2), encapsulated_postscript1);

  portable_document_format1 = gtk_menu_item_new_with_mnemonic ("Portable Document Format (PDF)");
  gtk_widget_show (portable_document_format1);
  gtk_container_add (GTK_CONTAINER (menu2), portable_document_format1);

  scalable_vector_graphics = gtk_menu_item_new_with_mnemonic ("Scalable Vector Graphics (SVG)");
  gtk_widget_show (scalable_vector_graphics);
  gtk_container_add (GTK_CONTAINER (menu2), scalable_vector_graphics);

  gnuplot1 = gtk_menu_item_new_with_mnemonic ("Gnuplot");
  gtk_widget_show (gnuplot1);
  gtk_container_add (GTK_CONTAINER (menu2), gnuplot1);

  wavefront_obj1 = gtk_menu_item_new_with_mnemonic ("Wavefront OBJ");
  gtk_widget_show (wavefront_obj1);
  gtk_container_add (GTK_CONTAINER (menu2), wavefront_obj1);

  kml_obj = gtk_menu_item_new_with_mnemonic ("Google Earth KML");
  gtk_widget_show (kml_obj);
  gtk_container_add (GTK_CONTAINER (menu2), kml_obj);

  latex1 = gtk_menu_item_new_with_mnemonic ("Latex (Text only)");
  gtk_widget_show (latex1);
  gtk_container_add (GTK_CONTAINER (menu2), latex1);

  gfsview = gtk_menu_item_new_with_mnemonic ("GfsView (GFV)");
  gtk_widget_show (gfsview);
  gtk_container_add (GTK_CONTAINER (menu2), gfsview);

  gerris = gtk_menu_item_new_with_mnemonic ("Gerris (GFS)");
  gtk_widget_show (gerris);
  gtk_container_add (GTK_CONTAINER (menu2), gerris);

  gtk_option_menu_set_menu (GTK_OPTION_MENU (format), menu2);

  orientationlabel = gtk_label_new ("Orientation");
  gtk_widget_show (orientationlabel);
  gtk_table_attach (GTK_TABLE (table5), orientationlabel, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (orientationlabel), 0, 0.5);

  orientationmenu = gtk_option_menu_new ();
  gtk_widget_show (orientationmenu);
  gtk_table_attach (GTK_TABLE (table5), orientationmenu, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  menu4 = gtk_menu_new ();

  portrait1 = gtk_menu_item_new_with_mnemonic ("Portrait");
  gtk_widget_show (portrait1);
  gtk_container_add (GTK_CONTAINER (menu4), portrait1);

  landscape1 = gtk_menu_item_new_with_mnemonic ("Landscape");
  gtk_widget_show (landscape1);
  gtk_container_add (GTK_CONTAINER (menu4), landscape1);

  gtk_option_menu_set_menu (GTK_OPTION_MENU (orientationmenu), menu4);

  label25 = gtk_label_new ("Line width");
  gtk_widget_show (label25);
  gtk_table_attach (GTK_TABLE (table5), label25, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label25), 0, 0.5);

  spinbutton1_adj = gtk_adjustment_new (1, 0.10000000149, 100, 0.10000000149, 1, 0);
  spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 1);
  gtk_widget_show (spinbutton1);
  gtk_table_attach (GTK_TABLE (table5), spinbutton1, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton1), TRUE);

  label20 = gtk_label_new ("Basic");
  gtk_widget_show (label20);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook2), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook2), 0), label20);

  vbox11 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox11);
  gtk_container_add (GTK_CONTAINER (notebook2), vbox11);

  ppm_options = gtk_table_new (2, 2, FALSE);
  gtk_widget_show (ppm_options);
  gtk_box_pack_start (GTK_BOX (vbox11), ppm_options, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (ppm_options), 4);
  gtk_table_set_row_spacings (GTK_TABLE (ppm_options), 4);
  gtk_table_set_col_spacings (GTK_TABLE (ppm_options), 4);

  label74 = gtk_label_new ("Size");
  gtk_widget_show (label74);
  gtk_table_attach (GTK_TABLE (ppm_options), label74, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label74), 0, 0.5);

  screen = gtk_check_button_new_with_mnemonic ("Screen");
  gtk_widget_show (screen);
  gtk_table_attach (GTK_TABLE (ppm_options), screen, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (screen), TRUE);

  size = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (size);
  gtk_table_attach (GTK_TABLE (ppm_options), size, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  label76 = gtk_label_new ("Width");
  gtk_widget_show (label76);
  gtk_box_pack_start (GTK_BOX (size), label76, FALSE, FALSE, 0);

  width_adj = gtk_adjustment_new (1280, 2, 2048, 2, 10, 0);
  width = gtk_spin_button_new (GTK_ADJUSTMENT (width_adj), 1, 0);
  gtk_widget_show (width);
  gtk_box_pack_start (GTK_BOX (size), width, TRUE, TRUE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (width), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (width), GTK_UPDATE_IF_VALID);
  gtk_spin_button_set_snap_to_ticks (GTK_SPIN_BUTTON (width), TRUE);

  label73 = gtk_label_new ("Height");
  gtk_widget_show (label73);
  gtk_box_pack_start (GTK_BOX (size), label73, FALSE, FALSE, 0);

  height_adj = gtk_adjustment_new (1024, 2, 2048, 2, 10, 0);
  height = gtk_spin_button_new (GTK_ADJUSTMENT (height_adj), 1, 0);
  gtk_widget_show (height);
  gtk_box_pack_start (GTK_BOX (size), height, TRUE, TRUE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (height), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (height), GTK_UPDATE_IF_VALID);
  gtk_spin_button_set_snap_to_ticks (GTK_SPIN_BUTTON (height), TRUE);

  keep_ratio = gtk_check_button_new_with_mnemonic ("Keep ratio");
  gtk_widget_show (keep_ratio);
  gtk_box_pack_start (GTK_BOX (size), keep_ratio, FALSE, FALSE, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (keep_ratio), TRUE);

  gl2ps_options = gtk_table_new (6, 2, FALSE);
  gtk_widget_show (gl2ps_options);
  gtk_box_pack_start (GTK_BOX (vbox11), gl2ps_options, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (gl2ps_options), 4);
  gtk_table_set_row_spacings (GTK_TABLE (gl2ps_options), 4);
  gtk_table_set_col_spacings (GTK_TABLE (gl2ps_options), 4);

  label24 = gtk_label_new ("Depth-sorting");
  gtk_widget_show (label24);
  gtk_table_attach (GTK_TABLE (gl2ps_options), label24, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label24), 0, 0.5);

  sort = gtk_option_menu_new ();
  gtk_widget_show (sort);
  gtk_table_attach (GTK_TABLE (gl2ps_options), sort, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  menu3 = gtk_menu_new ();

  none1 = gtk_menu_item_new_with_mnemonic ("None");
  gtk_widget_show (none1);
  gtk_container_add (GTK_CONTAINER (menu3), none1);

  barycenter1 = gtk_menu_item_new_with_mnemonic ("Barycenter");
  gtk_widget_show (barycenter1);
  gtk_container_add (GTK_CONTAINER (menu3), barycenter1);

  bsp_tree1 = gtk_menu_item_new_with_mnemonic ("BSP tree");
  gtk_widget_show (bsp_tree1);
  gtk_container_add (GTK_CONTAINER (menu3), bsp_tree1);

  gtk_option_menu_set_menu (GTK_OPTION_MENU (sort), menu3);

  checkbutton1 = gtk_check_button_new_with_mnemonic ("Line offset");
  gtk_widget_show (checkbutton1);
  gtk_table_attach (GTK_TABLE (gl2ps_options), checkbutton1, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton1, "Simple line offset", NULL);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (checkbutton1), TRUE);

  checkbutton2 = gtk_check_button_new_with_mnemonic ("Best root");
  gtk_widget_show (checkbutton2);
  gtk_table_attach (GTK_TABLE (gl2ps_options), checkbutton2, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton2, "Optimizes BSP tree", NULL);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (checkbutton2), TRUE);

  checkbutton3 = gtk_check_button_new_with_mnemonic ("No text");
  gtk_widget_show (checkbutton3);
  gtk_table_attach (GTK_TABLE (gl2ps_options), checkbutton3, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton3, "Suppresses text strings", NULL);

  checkbutton4 = gtk_check_button_new_with_mnemonic ("No pixmap");
  gtk_widget_show (checkbutton4);
  gtk_table_attach (GTK_TABLE (gl2ps_options), checkbutton4, 0, 1, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton4, "Suppresses pixmaps", NULL);

  checkbutton5 = gtk_check_button_new_with_mnemonic ("No PS3 shading");
  gtk_widget_show (checkbutton5);
  gtk_table_attach (GTK_TABLE (gl2ps_options), checkbutton5, 0, 1, 5, 6,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton5, "Do not use PS Level 3 shfill operator", NULL);

  label21 = gtk_label_new ("Options");
  gtk_widget_show (label21);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook2), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook2), 1), label21);

  hseparator3 = gtk_hseparator_new ();
  gtk_widget_show (hseparator3);
  gtk_box_pack_start (GTK_BOX (vbox6), hseparator3, FALSE, FALSE, 0);

  hbuttonbox3 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox3);
  gtk_box_pack_start (GTK_BOX (vbox6), hbuttonbox3, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (hbuttonbox3), 4);
  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox3), GTK_BUTTONBOX_SPREAD);

  button12 = gtk_button_new_from_stock ("gtk-save");
  gtk_widget_show (button12);
  gtk_container_add (GTK_CONTAINER (hbuttonbox3), button12);
  GTK_WIDGET_SET_FLAGS (button12, GTK_CAN_DEFAULT);

  button13 = gtk_button_new_from_stock ("gtk-cancel");
  gtk_widget_show (button13);
  gtk_container_add (GTK_CONTAINER (hbuttonbox3), button13);
  GTK_WIDGET_SET_FLAGS (button13, GTK_CAN_DEFAULT);

  g_signal_connect ((gpointer) entry2, "changed",
                    G_CALLBACK (on_entry2_changed),
                    NULL);
  g_signal_connect ((gpointer) button14, "clicked",
                    G_CALLBACK (on_browse_clicked),
                    NULL);
  g_signal_connect ((gpointer) portable_pixmap1, "activate",
                    G_CALLBACK (on_portable_pixmap1_activate),
                    NULL);
  g_signal_connect ((gpointer) postscript1, "activate",
                    G_CALLBACK (on_postscript1_activate),
                    NULL);
  g_signal_connect ((gpointer) encapsulated_postscript1, "activate",
                    G_CALLBACK (on_encapsulated_postscript1_activate),
                    NULL);
  g_signal_connect ((gpointer) portable_document_format1, "activate",
                    G_CALLBACK (on_portable_document_format1_activate),
                    NULL);
  g_signal_connect ((gpointer) scalable_vector_graphics, "activate",
                    G_CALLBACK (on_scalable_vector_graphics_activate),
                    NULL);
  g_signal_connect ((gpointer) gnuplot1, "activate",
                    G_CALLBACK (on_gnuplot1_activate),
                    NULL);
  g_signal_connect ((gpointer) wavefront_obj1, "activate",
                    G_CALLBACK (on_wavefront_obj1_activate),
                    NULL);
  g_signal_connect ((gpointer) kml_obj, "activate",
                    G_CALLBACK (on_kml_obj_activate),
                    NULL);
  g_signal_connect ((gpointer) latex1, "activate",
                    G_CALLBACK (on_latex1_activate),
                    NULL);
  g_signal_connect ((gpointer) gfsview, "activate",
                    G_CALLBACK (on_gfsview_activate),
                    NULL);
  g_signal_connect ((gpointer) gerris, "activate",
                    G_CALLBACK (on_gerris_activate),
                    NULL);
  g_signal_connect ((gpointer) portrait1, "activate",
                    G_CALLBACK (on_portrait1_activate),
                    NULL);
  g_signal_connect ((gpointer) landscape1, "activate",
                    G_CALLBACK (on_landscape1_activate),
                    NULL);
  g_signal_connect ((gpointer) spinbutton1, "value_changed",
                    G_CALLBACK (on_line_width_changed),
                    NULL);
  g_signal_connect ((gpointer) screen, "toggled",
                    G_CALLBACK (on_screen_ppm_toggled),
                    NULL);
  g_signal_connect ((gpointer) width, "value_changed",
                    G_CALLBACK (on_width_value_changed),
                    NULL);
  g_signal_connect ((gpointer) height, "value_changed",
                    G_CALLBACK (on_height_value_changed),
                    NULL);
  g_signal_connect ((gpointer) keep_ratio, "toggled",
                    G_CALLBACK (on_keep_ratio_toggled),
                    NULL);
  g_signal_connect ((gpointer) none1, "activate",
                    G_CALLBACK (on_none1_activate),
                    NULL);
  g_signal_connect ((gpointer) barycenter1, "activate",
                    G_CALLBACK (on_barycenter1_activate),
                    NULL);
  g_signal_connect ((gpointer) bsp_tree1, "activate",
                    G_CALLBACK (on_bsp_tree1_activate),
                    NULL);
  g_signal_connect ((gpointer) checkbutton1, "toggled",
                    G_CALLBACK (on_line_offset_toggled),
                    NULL);
  g_signal_connect ((gpointer) checkbutton2, "toggled",
                    G_CALLBACK (on_best_root_toggled),
                    NULL);
  g_signal_connect ((gpointer) checkbutton3, "toggled",
                    G_CALLBACK (on_no_text_toggled),
                    NULL);
  g_signal_connect ((gpointer) checkbutton4, "toggled",
                    G_CALLBACK (on_no_pixmap_toggled),
                    NULL);
  g_signal_connect ((gpointer) checkbutton5, "toggled",
                    G_CALLBACK (on_no_ps3_toggled),
                    NULL);
  g_signal_connect ((gpointer) button12, "clicked",
                    G_CALLBACK (on_save_as_button_clicked),
                    NULL);
  g_signal_connect_swapped ((gpointer) button13, "clicked",
                            G_CALLBACK (gtk_widget_hide),
                            GTK_OBJECT (gl2ps));

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (gl2ps, gl2ps, "gl2ps");
  GLADE_HOOKUP_OBJECT (gl2ps, vbox6, "vbox6");
  GLADE_HOOKUP_OBJECT (gl2ps, notebook2, "notebook2");
  GLADE_HOOKUP_OBJECT (gl2ps, table5, "table5");
  GLADE_HOOKUP_OBJECT (gl2ps, label22, "label22");
  GLADE_HOOKUP_OBJECT (gl2ps, entry2, "entry2");
  GLADE_HOOKUP_OBJECT (gl2ps, button14, "button14");
  GLADE_HOOKUP_OBJECT (gl2ps, label23, "label23");
  GLADE_HOOKUP_OBJECT (gl2ps, format, "format");
  GLADE_HOOKUP_OBJECT (gl2ps, menu2, "menu2");
  GLADE_HOOKUP_OBJECT (gl2ps, portable_pixmap1, "portable_pixmap1");
  GLADE_HOOKUP_OBJECT (gl2ps, postscript1, "postscript1");
  GLADE_HOOKUP_OBJECT (gl2ps, encapsulated_postscript1, "encapsulated_postscript1");
  GLADE_HOOKUP_OBJECT (gl2ps, portable_document_format1, "portable_document_format1");
  GLADE_HOOKUP_OBJECT (gl2ps, scalable_vector_graphics, "scalable_vector_graphics");
  GLADE_HOOKUP_OBJECT (gl2ps, gnuplot1, "gnuplot1");
  GLADE_HOOKUP_OBJECT (gl2ps, wavefront_obj1, "wavefront_obj1");
  GLADE_HOOKUP_OBJECT (gl2ps, latex1, "latex1");
  GLADE_HOOKUP_OBJECT (gl2ps, gfsview, "gfsview");
  GLADE_HOOKUP_OBJECT (gl2ps, gerris, "gerris");
  GLADE_HOOKUP_OBJECT (gl2ps, orientationlabel, "orientationlabel");
  GLADE_HOOKUP_OBJECT (gl2ps, orientationmenu, "orientationmenu");
  GLADE_HOOKUP_OBJECT (gl2ps, menu4, "menu4");
  GLADE_HOOKUP_OBJECT (gl2ps, portrait1, "portrait1");
  GLADE_HOOKUP_OBJECT (gl2ps, landscape1, "landscape1");
  GLADE_HOOKUP_OBJECT (gl2ps, label25, "label25");
  GLADE_HOOKUP_OBJECT (gl2ps, spinbutton1, "spinbutton1");
  GLADE_HOOKUP_OBJECT (gl2ps, label20, "label20");
  GLADE_HOOKUP_OBJECT (gl2ps, vbox11, "vbox11");
  GLADE_HOOKUP_OBJECT (gl2ps, ppm_options, "ppm_options");
  GLADE_HOOKUP_OBJECT (gl2ps, label74, "label74");
  GLADE_HOOKUP_OBJECT (gl2ps, screen, "screen");
  GLADE_HOOKUP_OBJECT (gl2ps, size, "size");
  GLADE_HOOKUP_OBJECT (gl2ps, label76, "label76");
  GLADE_HOOKUP_OBJECT (gl2ps, width, "width");
  GLADE_HOOKUP_OBJECT (gl2ps, label73, "label73");
  GLADE_HOOKUP_OBJECT (gl2ps, height, "height");
  GLADE_HOOKUP_OBJECT (gl2ps, keep_ratio, "keep_ratio");
  GLADE_HOOKUP_OBJECT (gl2ps, gl2ps_options, "gl2ps_options");
  GLADE_HOOKUP_OBJECT (gl2ps, label24, "label24");
  GLADE_HOOKUP_OBJECT (gl2ps, sort, "sort");
  GLADE_HOOKUP_OBJECT (gl2ps, menu3, "menu3");
  GLADE_HOOKUP_OBJECT (gl2ps, none1, "none1");
  GLADE_HOOKUP_OBJECT (gl2ps, barycenter1, "barycenter1");
  GLADE_HOOKUP_OBJECT (gl2ps, bsp_tree1, "bsp_tree1");
  GLADE_HOOKUP_OBJECT (gl2ps, checkbutton1, "checkbutton1");
  GLADE_HOOKUP_OBJECT (gl2ps, checkbutton2, "checkbutton2");
  GLADE_HOOKUP_OBJECT (gl2ps, checkbutton3, "checkbutton3");
  GLADE_HOOKUP_OBJECT (gl2ps, checkbutton4, "checkbutton4");
  GLADE_HOOKUP_OBJECT (gl2ps, checkbutton5, "checkbutton5");
  GLADE_HOOKUP_OBJECT (gl2ps, label21, "label21");
  GLADE_HOOKUP_OBJECT (gl2ps, hseparator3, "hseparator3");
  GLADE_HOOKUP_OBJECT (gl2ps, hbuttonbox3, "hbuttonbox3");
  GLADE_HOOKUP_OBJECT (gl2ps, button12, "button12");
  GLADE_HOOKUP_OBJECT (gl2ps, button13, "button13");
  GLADE_HOOKUP_OBJECT_NO_REF (gl2ps, tooltips, "tooltips");

  gtk_widget_grab_default (button12);
  return gl2ps;
}

GtkWidget*
create_about (void)
{
  GtkWidget *about;
  GtkWidget *vbox7;
  GtkWidget *vbox8;
  GtkWidget *image1;
  GtkWidget *label28;
  GtkWidget *label27;
  GtkWidget *hseparator4;
  GtkWidget *hbuttonbox4;
  GtkWidget *button15;

  about = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (about), 4);
  gtk_window_set_title (GTK_WINDOW (about), "About GfsView");

  vbox7 = gtk_vbox_new (FALSE, 4);
  gtk_widget_show (vbox7);
  gtk_container_add (GTK_CONTAINER (about), vbox7);

  vbox8 = gtk_vbox_new (FALSE, 16);
  gtk_widget_show (vbox8);
  gtk_box_pack_start (GTK_BOX (vbox7), vbox8, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (vbox8), 8);

  image1 = create_pixmap (about, "gerris_small.png");
  gtk_widget_show (image1);
  gtk_box_pack_start (GTK_BOX (vbox8), image1, FALSE, FALSE, 0);

  label28 = gtk_label_new ("GfsView is a viewer for Gerris simulation files");
  gtk_widget_show (label28);
  gtk_box_pack_start (GTK_BOX (vbox8), label28, FALSE, FALSE, 0);

  label27 = gtk_label_new ("<small>(C) 2004-2010 St\303\251phane Popinet, NIWA</small>");
  gtk_widget_show (label27);
  gtk_box_pack_start (GTK_BOX (vbox8), label27, FALSE, FALSE, 0);
  gtk_label_set_use_markup (GTK_LABEL (label27), TRUE);

  hseparator4 = gtk_hseparator_new ();
  gtk_widget_show (hseparator4);
  gtk_box_pack_start (GTK_BOX (vbox7), hseparator4, FALSE, FALSE, 0);

  hbuttonbox4 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox4);
  gtk_box_pack_start (GTK_BOX (vbox7), hbuttonbox4, FALSE, FALSE, 0);
  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox4), GTK_BUTTONBOX_END);

  button15 = gtk_button_new_from_stock ("gtk-ok");
  gtk_widget_show (button15);
  gtk_container_add (GTK_CONTAINER (hbuttonbox4), button15);
  GTK_WIDGET_SET_FLAGS (button15, GTK_CAN_DEFAULT);

  g_signal_connect_swapped ((gpointer) button15, "clicked",
                            G_CALLBACK (gtk_widget_hide),
                            GTK_OBJECT (about));

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (about, about, "about");
  GLADE_HOOKUP_OBJECT (about, vbox7, "vbox7");
  GLADE_HOOKUP_OBJECT (about, vbox8, "vbox8");
  GLADE_HOOKUP_OBJECT (about, image1, "image1");
  GLADE_HOOKUP_OBJECT (about, label28, "label28");
  GLADE_HOOKUP_OBJECT (about, label27, "label27");
  GLADE_HOOKUP_OBJECT (about, hseparator4, "hseparator4");
  GLADE_HOOKUP_OBJECT (about, hbuttonbox4, "hbuttonbox4");
  GLADE_HOOKUP_OBJECT (about, button15, "button15");

  return about;
}

GtkWidget*
create_isoline_params (void)
{
  GtkWidget *isoline_params;
  GtkWidget *table1;
  GtkWidget *label29;
  GtkWidget *label30;
  GtkWidget *label31;
  GtkWidget *amin;
  GtkWidget *amax;
  GtkObject *spinbuttonmin_adj;
  GtkWidget *spinbuttonmin;
  GtkObject *spinbuttonmax_adj;
  GtkWidget *spinbuttonmax;
  GtkWidget *label32;
  GtkObject *spinbuttoniso_adj;
  GtkWidget *spinbuttoniso;
  GtkWidget *entryiso;

  isoline_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (isoline_params), 4);
  gtk_window_set_title (GTK_WINDOW (isoline_params), "Isoline");

  table1 = gtk_table_new (4, 3, FALSE);
  gtk_widget_show (table1);
  gtk_container_add (GTK_CONTAINER (isoline_params), table1);
  gtk_table_set_row_spacings (GTK_TABLE (table1), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table1), 4);

  label29 = gtk_label_new ("Scalar");
  gtk_widget_show (label29);
  gtk_table_attach (GTK_TABLE (table1), label29, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label29), 0, 0.5);

  label30 = gtk_label_new ("Minimum");
  gtk_widget_show (label30);
  gtk_table_attach (GTK_TABLE (table1), label30, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label30), 0, 0.5);

  label31 = gtk_label_new ("Maximum");
  gtk_widget_show (label31);
  gtk_table_attach (GTK_TABLE (table1), label31, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label31), 0, 0.5);

  amin = gtk_check_button_new_with_mnemonic ("Auto");
  gtk_widget_show (amin);
  gtk_table_attach (GTK_TABLE (table1), amin, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (amin), TRUE);

  amax = gtk_check_button_new_with_mnemonic ("Auto");
  gtk_widget_show (amax);
  gtk_table_attach (GTK_TABLE (table1), amax, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (amax), TRUE);

  spinbuttonmin_adj = gtk_adjustment_new (0, -1.00000001505e+30, 1.00000001505e+30, 1, 10, 0);
  spinbuttonmin = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonmin_adj), 1, 5);
  gtk_widget_show (spinbuttonmin);
  gtk_table_attach (GTK_TABLE (table1), spinbuttonmin, 2, 3, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (spinbuttonmin, FALSE);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonmin), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (spinbuttonmin), GTK_UPDATE_IF_VALID);

  spinbuttonmax_adj = gtk_adjustment_new (0, -1.00000001505e+30, 1.00000001505e+30, 1, 10, 0);
  spinbuttonmax = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonmax_adj), 1, 5);
  gtk_widget_show (spinbuttonmax);
  gtk_table_attach (GTK_TABLE (table1), spinbuttonmax, 2, 3, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (spinbuttonmax, FALSE);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonmax), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (spinbuttonmax), GTK_UPDATE_IF_VALID);

  label32 = gtk_label_new ("Isolines");
  gtk_widget_show (label32);
  gtk_table_attach (GTK_TABLE (table1), label32, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label32), 0, 0.5);

  spinbuttoniso_adj = gtk_adjustment_new (10, 0, 1000, 1, 10, 0);
  spinbuttoniso = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttoniso_adj), 1, 0);
  gtk_widget_show (spinbuttoniso);
  gtk_table_attach (GTK_TABLE (table1), spinbuttoniso, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttoniso), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (spinbuttoniso), GTK_UPDATE_IF_VALID);

  entryiso = gtk_entry_new ();
  gtk_widget_show (entryiso);
  gtk_table_attach (GTK_TABLE (table1), entryiso, 2, 3, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  g_signal_connect ((gpointer) amin, "toggled",
                    G_CALLBACK (on_amin_toggled),
                    NULL);
  g_signal_connect ((gpointer) amin, "toggled",
                    G_CALLBACK (expose_gl),
                    NULL);
  g_signal_connect ((gpointer) amax, "toggled",
                    G_CALLBACK (on_amax_toggled),
                    NULL);
  g_signal_connect ((gpointer) amax, "toggled",
                    G_CALLBACK (expose_gl),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmin, "value_changed",
                    G_CALLBACK (on_spinbuttonmin_changed),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmin, "changed",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmin, "move_cursor",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmin, "value_changed",
                    G_CALLBACK (unmark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmax, "value_changed",
                    G_CALLBACK (on_spinbuttonmax_changed),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmax, "changed",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmax, "move_cursor",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonmax, "value_changed",
                    G_CALLBACK (unmark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttoniso, "value_changed",
                    G_CALLBACK (on_spinbuttoniso_value_changed),
                    NULL);
  g_signal_connect ((gpointer) entryiso, "activate",
                    G_CALLBACK (on_entryiso_activate),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (isoline_params, isoline_params, "isoline_params");
  GLADE_HOOKUP_OBJECT (isoline_params, table1, "table1");
  GLADE_HOOKUP_OBJECT (isoline_params, label29, "label29");
  GLADE_HOOKUP_OBJECT (isoline_params, label30, "label30");
  GLADE_HOOKUP_OBJECT (isoline_params, label31, "label31");
  GLADE_HOOKUP_OBJECT (isoline_params, amin, "amin");
  GLADE_HOOKUP_OBJECT (isoline_params, amax, "amax");
  GLADE_HOOKUP_OBJECT (isoline_params, spinbuttonmin, "spinbuttonmin");
  GLADE_HOOKUP_OBJECT (isoline_params, spinbuttonmax, "spinbuttonmax");
  GLADE_HOOKUP_OBJECT (isoline_params, label32, "label32");
  GLADE_HOOKUP_OBJECT (isoline_params, spinbuttoniso, "spinbuttoniso");
  GLADE_HOOKUP_OBJECT (isoline_params, entryiso, "entryiso");

  return isoline_params;
}

GtkWidget*
create_gl2D_params (void)
{
  GtkWidget *gl2D_params;
  GtkWidget *table8;
  GtkWidget *label34;
  GtkWidget *label35;
  GtkWidget *hbox4;
  GtkObject *spinbuttonx_adj;
  GtkWidget *spinbuttonx;
  GtkObject *spinbuttony_adj;
  GtkWidget *spinbuttony;
  GtkObject *spinbuttonz_adj;
  GtkWidget *spinbuttonz;
  GtkObject *spinbuttonpos_adj;
  GtkWidget *spinbuttonpos;

  gl2D_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (gl2D_params), 4);
  gtk_window_set_title (GTK_WINDOW (gl2D_params), "window1");

  table8 = gtk_table_new (2, 2, FALSE);
  gtk_widget_show (table8);
  gtk_container_add (GTK_CONTAINER (gl2D_params), table8);
  gtk_table_set_row_spacings (GTK_TABLE (table8), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table8), 4);

  label34 = gtk_label_new ("Plane normal");
  gtk_widget_show (label34);
  gtk_table_attach (GTK_TABLE (table8), label34, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label34), 0, 0.5);

  label35 = gtk_label_new ("Plane position");
  gtk_widget_show (label35);
  gtk_table_attach (GTK_TABLE (table8), label35, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label35), 0, 0.5);

  hbox4 = gtk_hbox_new (FALSE, 0);
  gtk_widget_show (hbox4);
  gtk_table_attach (GTK_TABLE (table8), hbox4, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  spinbuttonx_adj = gtk_adjustment_new (0, -1, 1, 0.00999999977648, 0.019999999553, 0);
  spinbuttonx = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonx_adj), 0.019999999553, 2);
  gtk_widget_show (spinbuttonx);
  gtk_box_pack_start (GTK_BOX (hbox4), spinbuttonx, TRUE, TRUE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonx), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (spinbuttonx), GTK_UPDATE_IF_VALID);

  spinbuttony_adj = gtk_adjustment_new (0, -1, 1, 0.01, 0.02, 0);
  spinbuttony = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttony_adj), 0.019999999553, 2);
  gtk_widget_show (spinbuttony);
  gtk_box_pack_start (GTK_BOX (hbox4), spinbuttony, TRUE, TRUE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttony), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (spinbuttony), GTK_UPDATE_IF_VALID);

  spinbuttonz_adj = gtk_adjustment_new (1, -1, 1, 0.01, 0.02, 0);
  spinbuttonz = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonz_adj), 0.019999999553, 2);
  gtk_widget_show (spinbuttonz);
  gtk_box_pack_start (GTK_BOX (hbox4), spinbuttonz, TRUE, TRUE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonz), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (spinbuttonz), GTK_UPDATE_IF_VALID);

  spinbuttonpos_adj = gtk_adjustment_new (0, -100, 100, 0.001, 0.01, 0);
  spinbuttonpos = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonpos_adj), 0.00999999977648, 4);
  gtk_widget_show (spinbuttonpos);
  gtk_table_attach (GTK_TABLE (table8), spinbuttonpos, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonpos), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (spinbuttonpos), GTK_UPDATE_IF_VALID);

  g_signal_connect ((gpointer) spinbuttonx, "value_changed",
                    G_CALLBACK (on_spinbuttonx_changed),
                    NULL);
  g_signal_connect ((gpointer) spinbuttony, "value_changed",
                    G_CALLBACK (on_spinbuttony_changed),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonz, "value_changed",
                    G_CALLBACK (on_spinbuttonz_changed),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonpos, "value_changed",
                    G_CALLBACK (on_spinbuttonpos_changed),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (gl2D_params, gl2D_params, "gl2D_params");
  GLADE_HOOKUP_OBJECT (gl2D_params, table8, "table8");
  GLADE_HOOKUP_OBJECT (gl2D_params, label34, "label34");
  GLADE_HOOKUP_OBJECT (gl2D_params, label35, "label35");
  GLADE_HOOKUP_OBJECT (gl2D_params, hbox4, "hbox4");
  GLADE_HOOKUP_OBJECT (gl2D_params, spinbuttonx, "spinbuttonx");
  GLADE_HOOKUP_OBJECT (gl2D_params, spinbuttony, "spinbuttony");
  GLADE_HOOKUP_OBJECT (gl2D_params, spinbuttonz, "spinbuttonz");
  GLADE_HOOKUP_OBJECT (gl2D_params, spinbuttonpos, "spinbuttonpos");

  return gl2D_params;
}

GtkWidget*
create_isosurface_params (void)
{
  GtkWidget *isosurface_params;
  GtkWidget *table1;
  GtkWidget *label36;
  GtkWidget *label37;
  GtkObject *spinbuttonlevel_adj;
  GtkWidget *spinbuttonlevel;
  GtkWidget *label38;
  GtkWidget *reversed;
  GtkWidget *label52;
  GtkWidget *color;

  isosurface_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (isosurface_params), 4);
  gtk_window_set_title (GTK_WINDOW (isosurface_params), "Isosurface");

  table1 = gtk_table_new (4, 2, FALSE);
  gtk_widget_show (table1);
  gtk_container_add (GTK_CONTAINER (isosurface_params), table1);
  gtk_table_set_row_spacings (GTK_TABLE (table1), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table1), 4);

  label36 = gtk_label_new ("Scalar");
  gtk_widget_show (label36);
  gtk_table_attach (GTK_TABLE (table1), label36, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label36), 0, 0.5);

  label37 = gtk_label_new ("Isosurfaces");
  gtk_widget_show (label37);
  gtk_table_attach (GTK_TABLE (table1), label37, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label37), 0, 0.5);

  spinbuttonlevel_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 0);
  spinbuttonlevel = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonlevel_adj), 1, 0);
  gtk_widget_show (spinbuttonlevel);
  gtk_table_attach (GTK_TABLE (table1), spinbuttonlevel, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonlevel), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (spinbuttonlevel), GTK_UPDATE_IF_VALID);

  label38 = gtk_label_new ("Normals");
  gtk_widget_show (label38);
  gtk_table_attach (GTK_TABLE (table1), label38, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label38), 0, 0.5);

  reversed = gtk_check_button_new_with_mnemonic ("reversed");
  gtk_widget_show (reversed);
  gtk_table_attach (GTK_TABLE (table1), reversed, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  label52 = gtk_label_new ("Color");
  gtk_widget_show (label52);
  gtk_table_attach (GTK_TABLE (table1), label52, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label52), 0, 0.5);

  color = gtk_option_menu_new ();
  gtk_widget_show (color);
  gtk_table_attach (GTK_TABLE (table1), color, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  g_signal_connect ((gpointer) spinbuttonlevel, "value_changed",
                    G_CALLBACK (on_spinbuttonlevel_changed),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonlevel, "changed",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonlevel, "move_cursor",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) spinbuttonlevel, "value_changed",
                    G_CALLBACK (unmark_edited),
                    NULL);
  g_signal_connect ((gpointer) reversed, "toggled",
                    G_CALLBACK (on_reversed_toggled),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (isosurface_params, isosurface_params, "isosurface_params");
  GLADE_HOOKUP_OBJECT (isosurface_params, table1, "table1");
  GLADE_HOOKUP_OBJECT (isosurface_params, label36, "label36");
  GLADE_HOOKUP_OBJECT (isosurface_params, label37, "label37");
  GLADE_HOOKUP_OBJECT (isosurface_params, spinbuttonlevel, "spinbuttonlevel");
  GLADE_HOOKUP_OBJECT (isosurface_params, label38, "label38");
  GLADE_HOOKUP_OBJECT (isosurface_params, reversed, "reversed");
  GLADE_HOOKUP_OBJECT (isosurface_params, label52, "label52");
  GLADE_HOOKUP_OBJECT (isosurface_params, color, "color");

  return isosurface_params;
}

GtkWidget*
create_solid_params (void)
{
  GtkWidget *solid_params;
  GtkWidget *table10;
  GtkWidget *label39;
  GtkWidget *reversed;
  GtkWidget *label51;
  GtkWidget *color;

  solid_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (solid_params), 4);
  gtk_window_set_title (GTK_WINDOW (solid_params), "Solid");

  table10 = gtk_table_new (2, 2, FALSE);
  gtk_widget_show (table10);
  gtk_container_add (GTK_CONTAINER (solid_params), table10);
  gtk_table_set_row_spacings (GTK_TABLE (table10), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table10), 4);

  label39 = gtk_label_new ("Normals");
  gtk_widget_show (label39);
  gtk_table_attach (GTK_TABLE (table10), label39, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label39), 0, 0.5);

  reversed = gtk_check_button_new_with_mnemonic ("reversed");
  gtk_widget_show (reversed);
  gtk_table_attach (GTK_TABLE (table10), reversed, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  label51 = gtk_label_new ("Color");
  gtk_widget_show (label51);
  gtk_table_attach (GTK_TABLE (table10), label51, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label51), 0, 0.5);

  color = gtk_option_menu_new ();
  gtk_widget_show (color);
  gtk_table_attach (GTK_TABLE (table10), color, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  g_signal_connect ((gpointer) reversed, "toggled",
                    G_CALLBACK (on_solid_reversed_toggled),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (solid_params, solid_params, "solid_params");
  GLADE_HOOKUP_OBJECT (solid_params, table10, "table10");
  GLADE_HOOKUP_OBJECT (solid_params, label39, "label39");
  GLADE_HOOKUP_OBJECT (solid_params, reversed, "reversed");
  GLADE_HOOKUP_OBJECT (solid_params, label51, "label51");
  GLADE_HOOKUP_OBJECT (solid_params, color, "color");

  return solid_params;
}

GtkWidget*
create_ellipse_params (void)
{
  GtkWidget *ellipse_params;
  GtkWidget *table12;
  GtkWidget *label60;
  GtkWidget *label61;
  GtkWidget *label62;
  GtkWidget *label63;
  GtkWidget *label43;
  GtkWidget *label44;
  GtkObject *scale_adj;
  GtkWidget *scale;
  GtkWidget *color;
  GtkWidget *menu8;

  ellipse_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (ellipse_params), 4);
  gtk_window_set_title (GTK_WINDOW (ellipse_params), "Ellipse");

  table12 = gtk_table_new (6, 2, FALSE);
  gtk_widget_show (table12);
  gtk_container_add (GTK_CONTAINER (ellipse_params), table12);
  gtk_table_set_row_spacings (GTK_TABLE (table12), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table12), 4);

  label60 = gtk_label_new ("Ax");
  gtk_widget_show (label60);
  gtk_table_attach (GTK_TABLE (table12), label60, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label60), 0, 0.5);

  label61 = gtk_label_new ("Ay");
  gtk_widget_show (label61);
  gtk_table_attach (GTK_TABLE (table12), label61, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label61), 0, 0.5);

  label62 = gtk_label_new ("Bx");
  gtk_widget_show (label62);
  gtk_table_attach (GTK_TABLE (table12), label62, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label62), 0, 0.5);

  label63 = gtk_label_new ("By");
  gtk_widget_show (label63);
  gtk_table_attach (GTK_TABLE (table12), label63, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label63), 0, 0.5);

  label43 = gtk_label_new ("Scale");
  gtk_widget_show (label43);
  gtk_table_attach (GTK_TABLE (table12), label43, 0, 1, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label43), GTK_JUSTIFY_CENTER);
  gtk_misc_set_alignment (GTK_MISC (label43), 0, 0.5);

  label44 = gtk_label_new ("Color");
  gtk_widget_show (label44);
  gtk_table_attach (GTK_TABLE (table12), label44, 0, 1, 5, 6,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label44), GTK_JUSTIFY_CENTER);
  gtk_misc_set_alignment (GTK_MISC (label44), 0, 0.5);

  scale_adj = gtk_adjustment_new (1, 0, 10000, 0.10000000149, 1, 0);
  scale = gtk_spin_button_new (GTK_ADJUSTMENT (scale_adj), 0.10000000149, 1);
  gtk_widget_show (scale);
  gtk_table_attach (GTK_TABLE (table12), scale, 1, 2, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (scale), TRUE);

  color = gtk_option_menu_new ();
  gtk_widget_show (color);
  gtk_table_attach (GTK_TABLE (table12), color, 1, 2, 5, 6,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  menu8 = gtk_menu_new ();

  gtk_option_menu_set_menu (GTK_OPTION_MENU (color), menu8);

  g_signal_connect ((gpointer) scale, "value_changed",
                    G_CALLBACK (on_ellipse_scale_changed),
                    NULL);
  g_signal_connect ((gpointer) scale, "changed",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) scale, "move_cursor",
                    G_CALLBACK (mark_edited),
                    NULL);
  g_signal_connect ((gpointer) scale, "value_changed",
                    G_CALLBACK (unmark_edited),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (ellipse_params, ellipse_params, "ellipse_params");
  GLADE_HOOKUP_OBJECT (ellipse_params, table12, "table12");
  GLADE_HOOKUP_OBJECT (ellipse_params, label60, "label60");
  GLADE_HOOKUP_OBJECT (ellipse_params, label61, "label61");
  GLADE_HOOKUP_OBJECT (ellipse_params, label62, "label62");
  GLADE_HOOKUP_OBJECT (ellipse_params, label63, "label63");
  GLADE_HOOKUP_OBJECT (ellipse_params, label43, "label43");
  GLADE_HOOKUP_OBJECT (ellipse_params, label44, "label44");
  GLADE_HOOKUP_OBJECT (ellipse_params, scale, "scale");
  GLADE_HOOKUP_OBJECT (ellipse_params, color, "color");
  GLADE_HOOKUP_OBJECT (ellipse_params, menu8, "menu8");

  return ellipse_params;
}

GtkWidget*
create_location_params (void)
{
  GtkWidget *location_params;
  GtkWidget *table14;
  GtkWidget *label50;
  GtkObject *size_adj;
  GtkWidget *size;
  GtkWidget *location_label;
  GtkWidget *location_label_check;

  location_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (location_params), 4);
  gtk_window_set_title (GTK_WINDOW (location_params), "Location");

  table14 = gtk_table_new (2, 2, FALSE);
  gtk_widget_show (table14);
  gtk_container_add (GTK_CONTAINER (location_params), table14);
  gtk_table_set_row_spacings (GTK_TABLE (table14), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table14), 4);

  label50 = gtk_label_new ("Symbol size");
  gtk_widget_show (label50);
  gtk_table_attach (GTK_TABLE (table14), label50, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label50), 0, 0.5);

  size_adj = gtk_adjustment_new (1, 0.1, 100, 0.1, 1, 0);
  size = gtk_spin_button_new (GTK_ADJUSTMENT (size_adj), 0.10000000149, 1);
  gtk_widget_show (size);
  gtk_table_attach (GTK_TABLE (table14), size, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (size), GTK_UPDATE_IF_VALID);

  location_label = gtk_label_new ("Label");
  gtk_widget_show (location_label);
  gtk_table_attach (GTK_TABLE (table14), location_label, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (location_label), 0, 0.5);

  location_label_check = gtk_check_button_new_with_mnemonic ("");
  gtk_widget_show (location_label_check);
  gtk_table_attach (GTK_TABLE (table14), location_label_check, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  GTK_WIDGET_UNSET_FLAGS (location_label_check, GTK_CAN_FOCUS);

  g_signal_connect ((gpointer) size, "value_changed",
                    G_CALLBACK (on_symbol_size_value_changed),
                    NULL);
  g_signal_connect ((gpointer) location_label_check, "toggled",
                    G_CALLBACK (on_location_label_toggled),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (location_params, location_params, "location_params");
  GLADE_HOOKUP_OBJECT (location_params, table14, "table14");
  GLADE_HOOKUP_OBJECT (location_params, label50, "label50");
  GLADE_HOOKUP_OBJECT (location_params, size, "size");
  GLADE_HOOKUP_OBJECT (location_params, location_label, "location_label");
  GLADE_HOOKUP_OBJECT (location_params, location_label_check, "location_label_check");

  return location_params;
}

GtkWidget*
create_play (void)
{
  GtkWidget *play;
  GtkWidget *hbuttonbox6;
  GtkWidget *back;
  GtkWidget *forward;

  play = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (play), 4);
  gtk_window_set_title (GTK_WINDOW (play), "Play");

  hbuttonbox6 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox6);
  gtk_container_add (GTK_CONTAINER (play), hbuttonbox6);
  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox6), GTK_BUTTONBOX_SPREAD);

  back = gtk_button_new_from_stock ("gtk-go-back");
  gtk_widget_show (back);
  gtk_container_add (GTK_CONTAINER (hbuttonbox6), back);
  gtk_widget_set_sensitive (back, FALSE);
  GTK_WIDGET_UNSET_FLAGS (back, GTK_CAN_FOCUS);

  forward = gtk_button_new_from_stock ("gtk-go-forward");
  gtk_widget_show (forward);
  gtk_container_add (GTK_CONTAINER (hbuttonbox6), forward);
  GTK_WIDGET_UNSET_FLAGS (forward, GTK_CAN_FOCUS);

  g_signal_connect ((gpointer) back, "clicked",
                    G_CALLBACK (on_back_clicked),
                    NULL);
  g_signal_connect ((gpointer) forward, "clicked",
                    G_CALLBACK (on_forward_clicked),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (play, play, "play");
  GLADE_HOOKUP_OBJECT (play, hbuttonbox6, "hbuttonbox6");
  GLADE_HOOKUP_OBJECT (play, back, "back");
  GLADE_HOOKUP_OBJECT (play, forward, "forward");

  return play;
}

GtkWidget*
create_linear_params (void)
{
  GtkWidget *linear_params;
  GtkWidget *table1;
  GtkWidget *label104;
  GtkWidget *normals;
  GtkWidget *reversed;
  GtkWidget *label107;
  GtkWidget *color;

  linear_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (linear_params), 4);
  gtk_window_set_title (GTK_WINDOW (linear_params), "Linear");

  table1 = gtk_table_new (3, 2, FALSE);
  gtk_widget_show (table1);
  gtk_container_add (GTK_CONTAINER (linear_params), table1);
  gtk_table_set_row_spacings (GTK_TABLE (table1), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table1), 4);

  label104 = gtk_label_new ("Z scalar");
  gtk_widget_show (label104);
  gtk_table_attach (GTK_TABLE (table1), label104, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label104), 0, 0.5);

  normals = gtk_label_new ("Normals");
  gtk_widget_show (normals);
  gtk_table_attach (GTK_TABLE (table1), normals, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (normals), 0, 0.5);

  reversed = gtk_check_button_new_with_mnemonic ("reversed");
  gtk_widget_show (reversed);
  gtk_table_attach (GTK_TABLE (table1), reversed, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  label107 = gtk_label_new ("Color");
  gtk_widget_show (label107);
  gtk_table_attach (GTK_TABLE (table1), label107, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label107), 0, 0.5);

  color = gtk_option_menu_new ();
  gtk_widget_show (color);
  gtk_table_attach (GTK_TABLE (table1), color, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  g_signal_connect ((gpointer) reversed, "toggled",
                    G_CALLBACK (on_linear_reversed_toggled),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (linear_params, linear_params, "linear_params");
  GLADE_HOOKUP_OBJECT (linear_params, table1, "table1");
  GLADE_HOOKUP_OBJECT (linear_params, label104, "label104");
  GLADE_HOOKUP_OBJECT (linear_params, normals, "normals");
  GLADE_HOOKUP_OBJECT (linear_params, reversed, "reversed");
  GLADE_HOOKUP_OBJECT (linear_params, label107, "label107");
  GLADE_HOOKUP_OBJECT (linear_params, color, "color");

  return linear_params;
}

GtkWidget*
create_streamlines_params (void)
{
  GtkWidget *streamlines_params;
  GtkWidget *vbox9;
  GtkWidget *showcells;
  GtkWidget *hbox8;
  GtkWidget *label68;
  GtkWidget *radiobutton5;
  GSList *radiobutton5_group = NULL;
  GtkWidget *snapcenters;
  GtkWidget *snapspacing;
  GtkWidget *table18;
  GtkWidget *label67;
  GtkObject *dmin_adj;
  GtkWidget *dmin;
  GtkWidget *params_3D;
  GtkWidget *hseparator9;
  GtkWidget *hbox10;
  GtkWidget *label70;
  GtkObject *radius_adj;
  GtkWidget *radius;
  GtkWidget *hseparator8;
  GtkWidget *hbox7;
  GtkWidget *radiobutton1;
  GSList *radiobutton1_group = NULL;
  GtkWidget *radiobutton2;
  GtkWidget *delete;
  GtkWidget *hseparator7;
  GtkWidget *evenly_spaced;
  GtkWidget *label_evenly;
  GtkWidget *execute_evenly;
  GtkWidget *stop_evenly;
  GtkWidget *show_execution;

  streamlines_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (streamlines_params), 4);
  gtk_window_set_title (GTK_WINDOW (streamlines_params), "Streamlines");

  vbox9 = gtk_vbox_new (FALSE, 4);
  gtk_widget_show (vbox9);
  gtk_container_add (GTK_CONTAINER (streamlines_params), vbox9);

  showcells = gtk_check_button_new_with_mnemonic ("Show cells");
  gtk_widget_show (showcells);
  gtk_box_pack_start (GTK_BOX (vbox9), showcells, FALSE, FALSE, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (showcells), TRUE);

  hbox8 = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (hbox8);
  gtk_box_pack_start (GTK_BOX (vbox9), hbox8, FALSE, FALSE, 0);

  label68 = gtk_label_new ("Snap");
  gtk_widget_show (label68);
  gtk_box_pack_start (GTK_BOX (hbox8), label68, FALSE, FALSE, 0);

  radiobutton5 = gtk_radio_button_new_with_mnemonic (NULL, "None");
  gtk_widget_show (radiobutton5);
  gtk_box_pack_start (GTK_BOX (hbox8), radiobutton5, FALSE, FALSE, 0);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobutton5), radiobutton5_group);
  radiobutton5_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobutton5));
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (radiobutton5), TRUE);

  snapcenters = gtk_radio_button_new_with_mnemonic (NULL, "Centers");
  gtk_widget_show (snapcenters);
  gtk_box_pack_start (GTK_BOX (hbox8), snapcenters, FALSE, FALSE, 0);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (snapcenters), radiobutton5_group);
  radiobutton5_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (snapcenters));

  snapspacing = gtk_radio_button_new_with_mnemonic (NULL, "Spacing");
  gtk_widget_show (snapspacing);
  gtk_box_pack_start (GTK_BOX (hbox8), snapspacing, FALSE, FALSE, 0);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (snapspacing), radiobutton5_group);
  radiobutton5_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (snapspacing));

  table18 = gtk_table_new (1, 2, FALSE);
  gtk_widget_show (table18);
  gtk_box_pack_start (GTK_BOX (vbox9), table18, FALSE, TRUE, 0);
  gtk_table_set_row_spacings (GTK_TABLE (table18), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table18), 4);

  label67 = gtk_label_new ("Minimum spacing");
  gtk_widget_show (label67);
  gtk_table_attach (GTK_TABLE (table18), label67, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label67), 0, 0.5);

  dmin_adj = gtk_adjustment_new (0, 0, 1, 9.99999974738e-05, 0.0010000000475, 0);
  dmin = gtk_spin_button_new (GTK_ADJUSTMENT (dmin_adj), 0.0010000000475, 5);
  gtk_widget_show (dmin);
  gtk_table_attach (GTK_TABLE (table18), dmin, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (dmin), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (dmin), GTK_UPDATE_IF_VALID);

  params_3D = gtk_vbox_new (FALSE, 4);
  gtk_widget_show (params_3D);
  gtk_box_pack_start (GTK_BOX (vbox9), params_3D, TRUE, TRUE, 0);

  hseparator9 = gtk_hseparator_new ();
  gtk_widget_show (hseparator9);
  gtk_box_pack_start (GTK_BOX (params_3D), hseparator9, TRUE, TRUE, 0);

  hbox10 = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (hbox10);
  gtk_box_pack_start (GTK_BOX (params_3D), hbox10, TRUE, TRUE, 0);

  label70 = gtk_label_new ("Radius");
  gtk_widget_show (label70);
  gtk_box_pack_start (GTK_BOX (hbox10), label70, FALSE, FALSE, 0);

  radius_adj = gtk_adjustment_new (0, 0, 1, 9.99999974738e-05, 0.0010000000475, 0);
  radius = gtk_spin_button_new (GTK_ADJUSTMENT (radius_adj), 9.99999974738e-05, 5);
  gtk_widget_show (radius);
  gtk_box_pack_start (GTK_BOX (hbox10), radius, FALSE, TRUE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (radius), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (radius), GTK_UPDATE_IF_VALID);

  hseparator8 = gtk_hseparator_new ();
  gtk_widget_show (hseparator8);
  gtk_box_pack_start (GTK_BOX (vbox9), hseparator8, TRUE, TRUE, 0);

  hbox7 = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (hbox7);
  gtk_box_pack_start (GTK_BOX (vbox9), hbox7, FALSE, FALSE, 0);

  radiobutton1 = gtk_radio_button_new_with_mnemonic (NULL, "gtk-new");
  gtk_button_set_use_stock (GTK_BUTTON (radiobutton1), TRUE);
  gtk_widget_show (radiobutton1);
  gtk_box_pack_start (GTK_BOX (hbox7), radiobutton1, FALSE, FALSE, 0);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobutton1), radiobutton1_group);
  radiobutton1_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobutton1));

  radiobutton2 = gtk_radio_button_new_with_mnemonic (NULL, "gtk-edit");
  gtk_button_set_use_stock (GTK_BUTTON (radiobutton2), TRUE);
  gtk_widget_show (radiobutton2);
  gtk_box_pack_start (GTK_BOX (hbox7), radiobutton2, FALSE, FALSE, 0);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobutton2), radiobutton1_group);
  radiobutton1_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobutton2));

  delete = gtk_button_new_from_stock ("gtk-delete");
  gtk_widget_show (delete);
  gtk_box_pack_start (GTK_BOX (hbox7), delete, FALSE, FALSE, 0);

  hseparator7 = gtk_hseparator_new ();
  gtk_widget_show (hseparator7);
  gtk_box_pack_start (GTK_BOX (vbox9), hseparator7, TRUE, TRUE, 0);

  evenly_spaced = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (evenly_spaced);
  gtk_box_pack_start (GTK_BOX (vbox9), evenly_spaced, FALSE, FALSE, 0);

  label_evenly = gtk_label_new ("Evenly spaced");
  gtk_widget_show (label_evenly);
  gtk_box_pack_start (GTK_BOX (evenly_spaced), label_evenly, FALSE, FALSE, 0);

  execute_evenly = gtk_button_new_from_stock ("gtk-execute");
  gtk_widget_show (execute_evenly);
  gtk_box_pack_start (GTK_BOX (evenly_spaced), execute_evenly, FALSE, FALSE, 0);

  stop_evenly = gtk_button_new_from_stock ("gtk-stop");
  gtk_widget_show (stop_evenly);
  gtk_box_pack_start (GTK_BOX (evenly_spaced), stop_evenly, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (stop_evenly, FALSE);

  show_execution = gtk_check_button_new_with_mnemonic ("Show execution");
  gtk_widget_show (show_execution);
  gtk_box_pack_start (GTK_BOX (evenly_spaced), show_execution, FALSE, FALSE, 0);

  g_signal_connect ((gpointer) showcells, "toggled",
                    G_CALLBACK (on_show_cells_toggled),
                    NULL);
  g_signal_connect ((gpointer) dmin, "value_changed",
                    G_CALLBACK (on_dmin_changed),
                    NULL);
  g_signal_connect ((gpointer) radius, "value_changed",
                    G_CALLBACK (on_radius_changed),
                    NULL);
  g_signal_connect ((gpointer) radiobutton1, "toggled",
                    G_CALLBACK (on_new_streamline_toggled),
                    NULL);
  g_signal_connect ((gpointer) delete, "clicked",
                    G_CALLBACK (on_delete_streamline_clicked),
                    NULL);
  g_signal_connect ((gpointer) execute_evenly, "clicked",
                    G_CALLBACK (on_evenly_spaced_clicked),
                    NULL);
  g_signal_connect ((gpointer) stop_evenly, "clicked",
                    G_CALLBACK (on_stop_evenly_clicked),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (streamlines_params, streamlines_params, "streamlines_params");
  GLADE_HOOKUP_OBJECT (streamlines_params, vbox9, "vbox9");
  GLADE_HOOKUP_OBJECT (streamlines_params, showcells, "showcells");
  GLADE_HOOKUP_OBJECT (streamlines_params, hbox8, "hbox8");
  GLADE_HOOKUP_OBJECT (streamlines_params, label68, "label68");
  GLADE_HOOKUP_OBJECT (streamlines_params, radiobutton5, "radiobutton5");
  GLADE_HOOKUP_OBJECT (streamlines_params, snapcenters, "snapcenters");
  GLADE_HOOKUP_OBJECT (streamlines_params, snapspacing, "snapspacing");
  GLADE_HOOKUP_OBJECT (streamlines_params, table18, "table18");
  GLADE_HOOKUP_OBJECT (streamlines_params, label67, "label67");
  GLADE_HOOKUP_OBJECT (streamlines_params, dmin, "dmin");
  GLADE_HOOKUP_OBJECT (streamlines_params, params_3D, "params_3D");
  GLADE_HOOKUP_OBJECT (streamlines_params, hseparator9, "hseparator9");
  GLADE_HOOKUP_OBJECT (streamlines_params, hbox10, "hbox10");
  GLADE_HOOKUP_OBJECT (streamlines_params, label70, "label70");
  GLADE_HOOKUP_OBJECT (streamlines_params, radius, "radius");
  GLADE_HOOKUP_OBJECT (streamlines_params, hseparator8, "hseparator8");
  GLADE_HOOKUP_OBJECT (streamlines_params, hbox7, "hbox7");
  GLADE_HOOKUP_OBJECT (streamlines_params, radiobutton1, "radiobutton1");
  GLADE_HOOKUP_OBJECT (streamlines_params, radiobutton2, "radiobutton2");
  GLADE_HOOKUP_OBJECT (streamlines_params, delete, "delete");
  GLADE_HOOKUP_OBJECT (streamlines_params, hseparator7, "hseparator7");
  GLADE_HOOKUP_OBJECT (streamlines_params, evenly_spaced, "evenly_spaced");
  GLADE_HOOKUP_OBJECT (streamlines_params, label_evenly, "label_evenly");
  GLADE_HOOKUP_OBJECT (streamlines_params, execute_evenly, "execute_evenly");
  GLADE_HOOKUP_OBJECT (streamlines_params, stop_evenly, "stop_evenly");
  GLADE_HOOKUP_OBJECT (streamlines_params, show_execution, "show_execution");

  return streamlines_params;
}

GtkWidget*
create_variables (void)
{
  GtkWidget *variables;
  GtkWidget *vbox13;
  GtkWidget *scrolledwindow3;
  GtkWidget *tree;
  GtkWidget *hbuttonbox7;
  GtkWidget *cancel;
  GtkWidget *OK;

  variables = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_window_set_title (GTK_WINDOW (variables), "Variables");
  gtk_window_set_position (GTK_WINDOW (variables), GTK_WIN_POS_MOUSE);

  vbox13 = gtk_vbox_new (FALSE, 4);
  gtk_widget_show (vbox13);
  gtk_container_add (GTK_CONTAINER (variables), vbox13);

  scrolledwindow3 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_show (scrolledwindow3);
  gtk_box_pack_start (GTK_BOX (vbox13), scrolledwindow3, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (scrolledwindow3), 4);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow3), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
  gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (scrolledwindow3), GTK_SHADOW_ETCHED_IN);

  tree = gtk_tree_view_new ();
  gtk_widget_show (tree);
  gtk_container_add (GTK_CONTAINER (scrolledwindow3), tree);
  gtk_widget_set_size_request (tree, 300, 180);

  hbuttonbox7 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox7);
  gtk_box_pack_start (GTK_BOX (vbox13), hbuttonbox7, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (hbuttonbox7), 2);
  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox7), GTK_BUTTONBOX_END);
  gtk_box_set_spacing (GTK_BOX (hbuttonbox7), 10);

  cancel = gtk_button_new_from_stock ("gtk-cancel");
  gtk_widget_show (cancel);
  gtk_container_add (GTK_CONTAINER (hbuttonbox7), cancel);
  GTK_WIDGET_SET_FLAGS (cancel, GTK_CAN_DEFAULT);

  OK = gtk_button_new_from_stock ("gtk-ok");
  gtk_widget_show (OK);
  gtk_container_add (GTK_CONTAINER (hbuttonbox7), OK);
  GTK_WIDGET_SET_FLAGS (OK, GTK_CAN_DEFAULT);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (variables, variables, "variables");
  GLADE_HOOKUP_OBJECT (variables, vbox13, "vbox13");
  GLADE_HOOKUP_OBJECT (variables, scrolledwindow3, "scrolledwindow3");
  GLADE_HOOKUP_OBJECT (variables, tree, "tree");
  GLADE_HOOKUP_OBJECT (variables, hbuttonbox7, "hbuttonbox7");
  GLADE_HOOKUP_OBJECT (variables, cancel, "cancel");
  GLADE_HOOKUP_OBJECT (variables, OK, "OK");

  gtk_widget_grab_default (OK);
  return variables;
}

GtkWidget*
create_info_params (void)
{
  GtkWidget *info_params;
  GtkWidget *scrolledwindow4;
  GtkWidget *viewport1;
  GtkWidget *vbox14;
  GtkWidget *label78;
  GtkWidget *mesh_stats_table;
  GtkWidget *label83;
  GtkWidget *label84;
  GtkWidget *label85;
  GtkWidget *number_of_levels;
  GtkWidget *number_of_cells;
  GtkWidget *number_of_leaf_cells;
  GtkWidget *label86;
  GtkWidget *leaf_cells_per_level;
  GtkWidget *label91;
  GtkWidget *label92;

  info_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (info_params), 4);
  gtk_window_set_title (GTK_WINDOW (info_params), "window1");

  scrolledwindow4 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_show (scrolledwindow4);
  gtk_container_add (GTK_CONTAINER (info_params), scrolledwindow4);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow4), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  viewport1 = gtk_viewport_new (NULL, NULL);
  gtk_widget_show (viewport1);
  gtk_container_add (GTK_CONTAINER (scrolledwindow4), viewport1);
  gtk_viewport_set_shadow_type (GTK_VIEWPORT (viewport1), GTK_SHADOW_NONE);

  vbox14 = gtk_vbox_new (FALSE, 2);
  gtk_widget_show (vbox14);
  gtk_container_add (GTK_CONTAINER (viewport1), vbox14);

  label78 = gtk_label_new ("<b>Mesh Statistics</b>");
  gtk_widget_show (label78);
  gtk_box_pack_start (GTK_BOX (vbox14), label78, FALSE, FALSE, 0);
  gtk_label_set_use_markup (GTK_LABEL (label78), TRUE);

  mesh_stats_table = gtk_table_new (5, 2, FALSE);
  gtk_widget_show (mesh_stats_table);
  gtk_box_pack_start (GTK_BOX (vbox14), mesh_stats_table, TRUE, TRUE, 0);
  gtk_table_set_row_spacings (GTK_TABLE (mesh_stats_table), 4);
  gtk_table_set_col_spacings (GTK_TABLE (mesh_stats_table), 16);

  label83 = gtk_label_new ("Number of levels");
  gtk_widget_show (label83);
  gtk_table_attach (GTK_TABLE (mesh_stats_table), label83, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label83), 0, 0.5);

  label84 = gtk_label_new ("Number of cells");
  gtk_widget_show (label84);
  gtk_table_attach (GTK_TABLE (mesh_stats_table), label84, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label84), 0, 0.5);

  label85 = gtk_label_new ("Number of leaf cells");
  gtk_widget_show (label85);
  gtk_table_attach (GTK_TABLE (mesh_stats_table), label85, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label85), 0, 0.5);

  number_of_levels = gtk_label_new ("0");
  gtk_widget_show (number_of_levels);
  gtk_table_attach (GTK_TABLE (mesh_stats_table), number_of_levels, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (number_of_levels), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (number_of_levels), 1, 0.5);

  number_of_cells = gtk_label_new ("0");
  gtk_widget_show (number_of_cells);
  gtk_table_attach (GTK_TABLE (mesh_stats_table), number_of_cells, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (number_of_cells), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (number_of_cells), 1, 0.5);

  number_of_leaf_cells = gtk_label_new ("0");
  gtk_widget_show (number_of_leaf_cells);
  gtk_table_attach (GTK_TABLE (mesh_stats_table), number_of_leaf_cells, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (number_of_leaf_cells), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (number_of_leaf_cells), 1, 0.5);

  label86 = gtk_label_new ("<b>Number of leaf cells per level</b>");
  gtk_widget_show (label86);
  gtk_table_attach (GTK_TABLE (mesh_stats_table), label86, 0, 2, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_use_markup (GTK_LABEL (label86), TRUE);
  gtk_misc_set_alignment (GTK_MISC (label86), 0, 0.5);

  leaf_cells_per_level = gtk_table_new (1, 2, FALSE);
  gtk_widget_show (leaf_cells_per_level);
  gtk_table_attach (GTK_TABLE (mesh_stats_table), leaf_cells_per_level, 0, 2, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_table_set_row_spacings (GTK_TABLE (leaf_cells_per_level), 2);
  gtk_table_set_col_spacings (GTK_TABLE (leaf_cells_per_level), 8);

  label91 = gtk_label_new ("Level 0");
  gtk_widget_show (label91);
  gtk_table_attach (GTK_TABLE (leaf_cells_per_level), label91, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 16, 0);
  gtk_misc_set_alignment (GTK_MISC (label91), 0, 0.5);

  label92 = gtk_label_new ("0");
  gtk_widget_show (label92);
  gtk_table_attach (GTK_TABLE (leaf_cells_per_level), label92, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label92), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label92), 0, 0.5);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (info_params, info_params, "info_params");
  GLADE_HOOKUP_OBJECT (info_params, scrolledwindow4, "scrolledwindow4");
  GLADE_HOOKUP_OBJECT (info_params, viewport1, "viewport1");
  GLADE_HOOKUP_OBJECT (info_params, vbox14, "vbox14");
  GLADE_HOOKUP_OBJECT (info_params, label78, "label78");
  GLADE_HOOKUP_OBJECT (info_params, mesh_stats_table, "mesh_stats_table");
  GLADE_HOOKUP_OBJECT (info_params, label83, "label83");
  GLADE_HOOKUP_OBJECT (info_params, label84, "label84");
  GLADE_HOOKUP_OBJECT (info_params, label85, "label85");
  GLADE_HOOKUP_OBJECT (info_params, number_of_levels, "number_of_levels");
  GLADE_HOOKUP_OBJECT (info_params, number_of_cells, "number_of_cells");
  GLADE_HOOKUP_OBJECT (info_params, number_of_leaf_cells, "number_of_leaf_cells");
  GLADE_HOOKUP_OBJECT (info_params, label86, "label86");
  GLADE_HOOKUP_OBJECT (info_params, leaf_cells_per_level, "leaf_cells_per_level");
  GLADE_HOOKUP_OBJECT (info_params, label91, "label91");
  GLADE_HOOKUP_OBJECT (info_params, label92, "label92");

  return info_params;
}

GtkWidget*
create_cells_params (void)
{
  GtkWidget *cells_params;
  GtkWidget *vbox15;
  GtkWidget *hbox11;
  GtkWidget *radiobutton6;
  GSList *radiobutton6_group = NULL;
  GtkWidget *edit;
  GtkWidget *vseparator1;
  GtkWidget *edit_level;
  GtkWidget *label93;
  GtkObject *level_adj;
  GtkWidget *level;

  cells_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (cells_params), 4);
  gtk_window_set_title (GTK_WINDOW (cells_params), "Cells");

  vbox15 = gtk_vbox_new (FALSE, 4);
  gtk_widget_show (vbox15);
  gtk_container_add (GTK_CONTAINER (cells_params), vbox15);

  hbox11 = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (hbox11);
  gtk_box_pack_start (GTK_BOX (vbox15), hbox11, FALSE, TRUE, 0);

  radiobutton6 = gtk_radio_button_new_with_mnemonic (NULL, "gtk-info");
  gtk_button_set_use_stock (GTK_BUTTON (radiobutton6), TRUE);
  gtk_widget_show (radiobutton6);
  gtk_box_pack_start (GTK_BOX (hbox11), radiobutton6, FALSE, FALSE, 0);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobutton6), radiobutton6_group);
  radiobutton6_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobutton6));
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (radiobutton6), TRUE);

  edit = gtk_radio_button_new_with_mnemonic (NULL, "gtk-edit");
  gtk_button_set_use_stock (GTK_BUTTON (edit), TRUE);
  gtk_widget_show (edit);
  gtk_box_pack_start (GTK_BOX (hbox11), edit, FALSE, FALSE, 0);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (edit), radiobutton6_group);
  radiobutton6_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (edit));

  vseparator1 = gtk_vseparator_new ();
  gtk_widget_show (vseparator1);
  gtk_box_pack_start (GTK_BOX (hbox11), vseparator1, FALSE, TRUE, 4);

  edit_level = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (edit_level);
  gtk_box_pack_start (GTK_BOX (hbox11), edit_level, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (edit_level, FALSE);

  label93 = gtk_label_new ("Level");
  gtk_widget_show (label93);
  gtk_box_pack_start (GTK_BOX (edit_level), label93, FALSE, FALSE, 0);

  level_adj = gtk_adjustment_new (0, 0, 100, 1, 10, 0);
  level = gtk_spin_button_new (GTK_ADJUSTMENT (level_adj), 1, 0);
  gtk_widget_show (level);
  gtk_box_pack_start (GTK_BOX (edit_level), level, FALSE, TRUE, 0);

  g_signal_connect ((gpointer) radiobutton6, "toggled",
                    G_CALLBACK (on_information_toggled),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (cells_params, cells_params, "cells_params");
  GLADE_HOOKUP_OBJECT (cells_params, vbox15, "vbox15");
  GLADE_HOOKUP_OBJECT (cells_params, hbox11, "hbox11");
  GLADE_HOOKUP_OBJECT (cells_params, radiobutton6, "radiobutton6");
  GLADE_HOOKUP_OBJECT (cells_params, edit, "edit");
  GLADE_HOOKUP_OBJECT (cells_params, vseparator1, "vseparator1");
  GLADE_HOOKUP_OBJECT (cells_params, edit_level, "edit_level");
  GLADE_HOOKUP_OBJECT (cells_params, label93, "label93");
  GLADE_HOOKUP_OBJECT (cells_params, level, "level");

  return cells_params;
}

GtkWidget*
create_locate_params (void)
{
  GtkWidget *locate_params;
  GtkWidget *table19;
  GtkWidget *label93;
  GtkWidget *label94;
  GtkWidget *label95;
  GtkWidget *locate_x_entry;
  GtkWidget *locate_y_entry;
  GtkWidget *locate_z_entry;

  locate_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (locate_params), 4);
  gtk_window_set_title (GTK_WINDOW (locate_params), "Locate");

  table19 = gtk_table_new (3, 2, FALSE);
  gtk_widget_show (table19);
  gtk_container_add (GTK_CONTAINER (locate_params), table19);
  gtk_table_set_row_spacings (GTK_TABLE (table19), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table19), 4);

  label93 = gtk_label_new ("X");
  gtk_widget_show (label93);
  gtk_table_attach (GTK_TABLE (table19), label93, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label93), 0, 0.5);

  label94 = gtk_label_new ("Y");
  gtk_widget_show (label94);
  gtk_table_attach (GTK_TABLE (table19), label94, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label94), 0, 0.5);

  label95 = gtk_label_new ("Z");
  gtk_widget_show (label95);
  gtk_table_attach (GTK_TABLE (table19), label95, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label95), 0, 0.5);

  locate_x_entry = gtk_entry_new ();
  gtk_widget_show (locate_x_entry);
  gtk_table_attach (GTK_TABLE (table19), locate_x_entry, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  locate_y_entry = gtk_entry_new ();
  gtk_widget_show (locate_y_entry);
  gtk_table_attach (GTK_TABLE (table19), locate_y_entry, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  locate_z_entry = gtk_entry_new ();
  gtk_widget_show (locate_z_entry);
  gtk_table_attach (GTK_TABLE (table19), locate_z_entry, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  g_signal_connect ((gpointer) locate_x_entry, "changed",
                    G_CALLBACK (on_locate_x_entry_changed),
                    NULL);
  g_signal_connect ((gpointer) locate_y_entry, "changed",
                    G_CALLBACK (on_locate_y_entry_changed),
                    NULL);
  g_signal_connect ((gpointer) locate_z_entry, "changed",
                    G_CALLBACK (on_locate_z_entry_changed),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (locate_params, locate_params, "locate_params");
  GLADE_HOOKUP_OBJECT (locate_params, table19, "table19");
  GLADE_HOOKUP_OBJECT (locate_params, label93, "label93");
  GLADE_HOOKUP_OBJECT (locate_params, label94, "label94");
  GLADE_HOOKUP_OBJECT (locate_params, label95, "label95");
  GLADE_HOOKUP_OBJECT (locate_params, locate_x_entry, "locate_x_entry");
  GLADE_HOOKUP_OBJECT (locate_params, locate_y_entry, "locate_y_entry");
  GLADE_HOOKUP_OBJECT (locate_params, locate_z_entry, "locate_z_entry");

  return locate_params;
}

GtkWidget*
create_vof_params (void)
{
  GtkWidget *vof_params;
  GtkWidget *table1;
  GtkWidget *label100;
  GtkWidget *normals;
  GtkWidget *reversed;
  GtkWidget *label103;
  GtkWidget *color;
  GtkWidget *edges;
  GtkWidget *visible;

  vof_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (vof_params), 4);
  gtk_window_set_title (GTK_WINDOW (vof_params), "VOF");

  table1 = gtk_table_new (4, 2, FALSE);
  gtk_widget_show (table1);
  gtk_container_add (GTK_CONTAINER (vof_params), table1);
  gtk_table_set_row_spacings (GTK_TABLE (table1), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table1), 4);

  label100 = gtk_label_new ("Scalar");
  gtk_widget_show (label100);
  gtk_table_attach (GTK_TABLE (table1), label100, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label100), 0, 0.5);

  normals = gtk_label_new ("Normals");
  gtk_widget_show (normals);
  gtk_table_attach (GTK_TABLE (table1), normals, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (normals), 0, 0.5);

  reversed = gtk_check_button_new_with_mnemonic ("reversed");
  gtk_widget_show (reversed);
  gtk_table_attach (GTK_TABLE (table1), reversed, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  label103 = gtk_label_new ("Color");
  gtk_widget_show (label103);
  gtk_table_attach (GTK_TABLE (table1), label103, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label103), 0, 0.5);

  color = gtk_option_menu_new ();
  gtk_widget_show (color);
  gtk_table_attach (GTK_TABLE (table1), color, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  edges = gtk_label_new ("Edges");
  gtk_widget_show (edges);
  gtk_table_attach (GTK_TABLE (table1), edges, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (edges), 0, 0.5);

  visible = gtk_check_button_new_with_mnemonic ("visible");
  gtk_widget_show (visible);
  gtk_table_attach (GTK_TABLE (table1), visible, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  g_signal_connect ((gpointer) reversed, "toggled",
                    G_CALLBACK (on_vof_reversed_toggled),
                    NULL);
  g_signal_connect ((gpointer) visible, "toggled",
                    G_CALLBACK (on_vof_visible_toggled),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (vof_params, vof_params, "vof_params");
  GLADE_HOOKUP_OBJECT (vof_params, table1, "table1");
  GLADE_HOOKUP_OBJECT (vof_params, label100, "label100");
  GLADE_HOOKUP_OBJECT (vof_params, normals, "normals");
  GLADE_HOOKUP_OBJECT (vof_params, reversed, "reversed");
  GLADE_HOOKUP_OBJECT (vof_params, label103, "label103");
  GLADE_HOOKUP_OBJECT (vof_params, color, "color");
  GLADE_HOOKUP_OBJECT (vof_params, edges, "edges");
  GLADE_HOOKUP_OBJECT (vof_params, visible, "visible");

  return vof_params;
}

GtkWidget*
create_font_params (void)
{
  GtkWidget *font_params;
  GtkWidget *table22;
  GtkWidget *label112;
  GtkObject *font_size_adj;
  GtkWidget *font_size;
  GtkWidget *vector_font;
  GSList *vector_font_group = NULL;
  GtkWidget *raster_font;

  font_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (font_params), 4);
  gtk_window_set_title (GTK_WINDOW (font_params), "Font");

  table22 = gtk_table_new (2, 2, FALSE);
  gtk_widget_show (table22);
  gtk_container_add (GTK_CONTAINER (font_params), table22);
  gtk_table_set_row_spacings (GTK_TABLE (table22), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table22), 4);

  label112 = gtk_label_new ("Size");
  gtk_widget_show (label112);
  gtk_table_attach (GTK_TABLE (table22), label112, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label112), 0, 0.5);

  font_size_adj = gtk_adjustment_new (1, 0.10000000149, 10, 0.10000000149, 1, 0);
  font_size = gtk_spin_button_new (GTK_ADJUSTMENT (font_size_adj), 1, 1);
  gtk_widget_show (font_size);
  gtk_table_attach (GTK_TABLE (table22), font_size, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (font_size), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (font_size), GTK_UPDATE_IF_VALID);

  vector_font = gtk_radio_button_new_with_mnemonic (NULL, "Vector");
  gtk_widget_show (vector_font);
  gtk_table_attach (GTK_TABLE (table22), vector_font, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (vector_font), vector_font_group);
  vector_font_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (vector_font));

  raster_font = gtk_radio_button_new_with_mnemonic (NULL, "Raster");
  gtk_widget_show (raster_font);
  gtk_table_attach (GTK_TABLE (table22), raster_font, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (raster_font), vector_font_group);
  vector_font_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (raster_font));
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (raster_font), TRUE);

  g_signal_connect ((gpointer) font_size, "value_changed",
                    G_CALLBACK (on_font_size_changed),
                    NULL);
  g_signal_connect ((gpointer) vector_font, "toggled",
                    G_CALLBACK (on_vector_font_toggled),
                    NULL);
  g_signal_connect ((gpointer) raster_font, "toggled",
                    G_CALLBACK (on_raster_font_toggled),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (font_params, font_params, "font_params");
  GLADE_HOOKUP_OBJECT (font_params, table22, "table22");
  GLADE_HOOKUP_OBJECT (font_params, label112, "label112");
  GLADE_HOOKUP_OBJECT (font_params, font_size, "font_size");
  GLADE_HOOKUP_OBJECT (font_params, vector_font, "vector_font");
  GLADE_HOOKUP_OBJECT (font_params, raster_font, "raster_font");

  return font_params;
}

GtkWidget*
create_label_params (void)
{
  GtkWidget *label_params;
  GtkWidget *table23;
  GtkWidget *label113;
  GtkWidget *label114;
  GtkWidget *hbox12;
  GtkObject *labelx_adj;
  GtkWidget *labelx;
  GtkObject *labely_adj;
  GtkWidget *labely;
  GtkObject *labelz_adj;
  GtkWidget *labelz;
  GtkWidget *labelentry;
  GtkWidget *label_symbol_check;
  GtkWidget *label115;

  label_params = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (label_params), 4);
  gtk_window_set_title (GTK_WINDOW (label_params), "Label");

  table23 = gtk_table_new (3, 2, FALSE);
  gtk_widget_show (table23);
  gtk_container_add (GTK_CONTAINER (label_params), table23);
  gtk_table_set_row_spacings (GTK_TABLE (table23), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table23), 4);

  label113 = gtk_label_new ("Position");
  gtk_widget_show (label113);
  gtk_table_attach (GTK_TABLE (table23), label113, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label113), 0, 0.5);

  label114 = gtk_label_new ("Text");
  gtk_widget_show (label114);
  gtk_table_attach (GTK_TABLE (table23), label114, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label114), 0, 0.5);

  hbox12 = gtk_hbox_new (FALSE, 0);
  gtk_widget_show (hbox12);
  gtk_table_attach (GTK_TABLE (table23), hbox12, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  labelx_adj = gtk_adjustment_new (0, -1000000, 1000000, 0.00999999977648, 0.019999999553, 0);
  labelx = gtk_spin_button_new (GTK_ADJUSTMENT (labelx_adj), 0.019999999553, 5);
  gtk_widget_show (labelx);
  gtk_box_pack_start (GTK_BOX (hbox12), labelx, TRUE, TRUE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (labelx), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (labelx), GTK_UPDATE_IF_VALID);

  labely_adj = gtk_adjustment_new (0, -1000000, 1000000, 0.00999999977648, 0.019999999553, 0);
  labely = gtk_spin_button_new (GTK_ADJUSTMENT (labely_adj), 0.019999999553, 5);
  gtk_widget_show (labely);
  gtk_box_pack_start (GTK_BOX (hbox12), labely, TRUE, TRUE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (labely), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (labely), GTK_UPDATE_IF_VALID);

  labelz_adj = gtk_adjustment_new (0, -1000000, 1000000, 0.00999999977648, 0.019999999553, 0);
  labelz = gtk_spin_button_new (GTK_ADJUSTMENT (labelz_adj), 0.019999999553, 5);
  gtk_widget_show (labelz);
  gtk_box_pack_start (GTK_BOX (hbox12), labelz, TRUE, TRUE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (labelz), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (labelz), GTK_UPDATE_IF_VALID);

  labelentry = gtk_entry_new ();
  gtk_widget_show (labelentry);
  gtk_table_attach (GTK_TABLE (table23), labelentry, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_entry_set_text (GTK_ENTRY (labelentry), "Label");
  gtk_entry_set_invisible_char (GTK_ENTRY (labelentry), 9679);

  label_symbol_check = gtk_check_button_new_with_mnemonic ("");
  gtk_widget_show (label_symbol_check);
  gtk_table_attach (GTK_TABLE (table23), label_symbol_check, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  GTK_WIDGET_UNSET_FLAGS (label_symbol_check, GTK_CAN_FOCUS);

  label115 = gtk_label_new ("Symbol");
  gtk_widget_show (label115);
  gtk_table_attach (GTK_TABLE (table23), label115, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label115), 0, 0.5);

  g_signal_connect ((gpointer) labelx, "value_changed",
                    G_CALLBACK (on_labelx_changed),
                    NULL);
  g_signal_connect ((gpointer) labely, "value_changed",
                    G_CALLBACK (on_labely_changed),
                    NULL);
  g_signal_connect ((gpointer) labelz, "value_changed",
                    G_CALLBACK (on_labelz_changed),
                    NULL);
  g_signal_connect ((gpointer) labelentry, "activate",
                    G_CALLBACK (on_labelentry_activate),
                    NULL);
  g_signal_connect ((gpointer) label_symbol_check, "toggled",
                    G_CALLBACK (on_label_symbol_check_toggled),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (label_params, label_params, "label_params");
  GLADE_HOOKUP_OBJECT (label_params, table23, "table23");
  GLADE_HOOKUP_OBJECT (label_params, label113, "label113");
  GLADE_HOOKUP_OBJECT (label_params, label114, "label114");
  GLADE_HOOKUP_OBJECT (label_params, hbox12, "hbox12");
  GLADE_HOOKUP_OBJECT (label_params, labelx, "labelx");
  GLADE_HOOKUP_OBJECT (label_params, labely, "labely");
  GLADE_HOOKUP_OBJECT (label_params, labelz, "labelz");
  GLADE_HOOKUP_OBJECT (label_params, labelentry, "labelentry");
  GLADE_HOOKUP_OBJECT (label_params, label_symbol_check, "label_symbol_check");
  GLADE_HOOKUP_OBJECT (label_params, label115, "label115");

  return label_params;
}

